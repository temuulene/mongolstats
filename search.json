[{"path":[]},{"path":"https://temuulene.github.io/mongolstats/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, religion, sexual identity orientation.","code":""},{"path":"https://temuulene.github.io/mongolstats/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community","code":""},{"path":"https://temuulene.github.io/mongolstats/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful.","code":""},{"path":"https://temuulene.github.io/mongolstats/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces.","code":""},{"path":"https://temuulene.github.io/mongolstats/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement.","code":""},{"path":"https://temuulene.github.io/mongolstats/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to mongolstats","title":"Contributing to mongolstats","text":"Thank considering contributing mongolstats!","code":""},{"path":"https://temuulene.github.io/mongolstats/CONTRIBUTING.html","id":"reporting-bugs","dir":"","previous_headings":"","what":"Reporting Bugs","title":"Contributing to mongolstats","text":"find bug, please report Issue Tracker. Include minimal reproducible example possible.","code":""},{"path":"https://temuulene.github.io/mongolstats/CONTRIBUTING.html","id":"suggesting-features","dir":"","previous_headings":"","what":"Suggesting Features","title":"Contributing to mongolstats","text":"welcome feature requests! Please open issue discuss idea implementing .","code":""},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/CONTRIBUTING.html","id":"contributing-to-mongolstats-1","dir":"","previous_headings":"","what":"Contributing to mongolstats","title":"Contributing to mongolstats","text":"Thank considering contributing mongolstats!","code":""},{"path":"https://temuulene.github.io/mongolstats/CONTRIBUTING.html","id":"reporting-bugs-1","dir":"","previous_headings":"","what":"Reporting Bugs","title":"Contributing to mongolstats","text":"find bug, please report Issue Tracker. Include minimal reproducible example possible.","code":""},{"path":"https://temuulene.github.io/mongolstats/CONTRIBUTING.html","id":"suggesting-features-1","dir":"","previous_headings":"","what":"Suggesting Features","title":"Contributing to mongolstats","text":"welcome feature requests! Please open issue discuss idea implementing .","code":""},{"path":"https://temuulene.github.io/mongolstats/CONTRIBUTING.html","id":"pull-requests-1","dir":"","previous_headings":"","what":"Pull Requests","title":"Contributing to mongolstats","text":"Fork repository. Create new branch feature fix. Write code tests. Ensure devtools::check() passes. Submit Pull Request.","code":""},{"path":"https://temuulene.github.io/mongolstats/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Pull Requests","what":"Code Style","title":"Contributing to mongolstats","text":"Use tidyverse style guide. Use roxygen2 documentation. Use base R pipe |> instead %>%. Run devtools::check() submitting pull request.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Discovering Public Health Data","text":"Mongolia’s National Statistics Office maintains comprehensive public health surveillance data. guide demonstrates discover access epidemiological data research policy analysis.","code":""},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"search-by-keyword","dir":"Articles","previous_headings":"Finding Health Tables","what":"Search by Keyword","title":"Discovering Public Health Data","text":"Finding right data first step analysis. nso_itms_search() function allows query entire NSO catalog using simple keywords:","code":"# Infant and maternal health mortality <- nso_itms_search(\"mortality\") mortality |>   select(tbl_id, tbl_eng_nm) |>   head(10) #> # A tibble: 10 × 2 #>    tbl_id            tbl_eng_nm                                                  #>    <chr>             <chr>                                                       #>  1 DT_NSO_2100_014V1 NUMBER OF INFANT MORTALITY, aimags and the Capital and by … #>  2 DT_NSO_2100_014V2 INFANT MORTALITY RATE, per 1000 live births, aimags and th… #>  3 DT_NSO_2100_014V4 INFANT MORTALITY, by sex, by soum, and by year              #>  4 DT_NSO_2100_014V5 INFANT MORTALITY RATE,  per 1000 live births, by sex, by s… #>  5 DT_NSO_2100_015V1 INFANT MORTALITY RATE, per 1000 live births, aimags and th… #>  6 DT_NSO_2100_015V2 INFANT MORTALITY, per 1000 live births, by soum, and by ye… #>  7 DT_NSO_2100_023V1 MATERNAL MORTALITY RATIO,  per 1,000 live births, by soum,… #>  8 DT_NSO_2100_030V2 UNDER-FIVE MORTALITY, per 1000 live births, aimags and the… #>  9 DT_NSO_2100_040V1 NEONATAL MORTALITY, aimags and the Capital and by month     #> 10 DT_NSO_2100_040V2 NEONATAL MORTALITY RATE, per 1000 live births, aimags and …  # Cancer surveillance cancer <- nso_itms_search(\"cancer\") cancer |> select(tbl_id, tbl_eng_nm) #> # A tibble: 4 × 2 #>   tbl_id            tbl_eng_nm                                                   #>   <chr>             <chr>                                                        #> 1 DT_NSO_2100_012V1 NEW CASES OF CANCER, per 10000 population, by type of cancer #> 2 DT_NSO_2100_013V1 DEATHS OF CANCER, per 10000 population, by year              #> 3 DT_NSO_2100_044V1 NEW CASES OF CANCER, by age group, by year                   #> 4 DT_NSO_2100_045V1 NEW CASES AND MORTALITY OF CANCER, per 10000 population, ai…  # Communicable diseases infectious <- nso_itms_search(\"tuberculosis\") infectious |> select(tbl_id, tbl_eng_nm) #> # A tibble: 4 × 2 #>   tbl_id            tbl_eng_nm                                                   #>   <chr>             <chr>                                                        #> 1 DT_NSO_2800_025V1 PREVALENCE TUBERCULOSIS PER 100000 PERSON, by aimags and th… #> 2 DT_NSO_2800_026V1 INCIDENCE OF TUBERCULOSIS PER 100000 PERSON, by aimags and … #> 3 DT_NSO_2800_027V1 DEATH RATES ASSOCIATED WITH TUBERCULOSIS PER 100000 PERSON,… #> 4 DT_NSO_2800_028V1 PROPORTION OF TUBERCULOSIS CASES DETECTED AND CURED UNDER D…"},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"browse-by-sector","dir":"Articles","previous_headings":"Finding Health Tables","what":"Browse by Sector","title":"Discovering Public Health Data","text":"Health education statistics grouped together:","code":"# View all sectors sectors <- nso_sectors() sectors #> # A tibble: 8 × 3 #>   id                    type  text                  #>   <chr>                 <chr> <chr>                 #> 1 Economy, environment  l     Economy, environment  #> 2 Education, health     l     Education, health     #> 3 Historical data       l     Historical data       #> 4 Industry, service     l     Industry, service     #> 5 Labour, business      l     Labour, business      #> 6 Population, household l     Population, household #> 7 Regional development  l     Regional development  #> 8 Society, development  l     Society, development  # Find health-related subsectors health_sector <- sectors |> filter(grepl(\"health\", text, ignore.case = TRUE)) if (nrow(health_sector) > 0) {   subsectors <- nso_subsectors(health_sector$id[1])   subsectors |> head() } #> # A tibble: 6 × 3 #>   id                                type  text                              #>   <chr>                             <chr> <chr>                             #> 1 Births, deaths                    l     Births, deaths                    #> 2 Disease                           l     Disease                           #> 3 General educational schools       l     General educational schools       #> 4 General indicators for Education  l     General indicators for Education  #> 5 Health insurance                  l     Health insurance                  #> 6 Main indicators for Health sector l     Main indicators for Health sector"},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"exploring-cancer-incidence-data","dir":"Articles","previous_headings":"Case Study: Cancer Epidemiology","what":"Exploring Cancer Incidence Data","title":"Discovering Public Health Data","text":"Cancer burden shifting Mongolia. understand changes, can analyze incidence trends last decade:","code":"# Find cancer incidence table cancer_tbl <- \"DT_NSO_2100_012V1\" # New cases per 10,000 population  # Examine available dimensions meta <- nso_table_meta(cancer_tbl) meta #> # A tibble: 2 × 5 #>   dim                      code               is_time n_values codes             #>   <chr>                    <chr>              <lgl>      <int> <list>            #> 1 Type malignant neoplasms Хорт хавдрын төрөл FALSE          7 <tibble [7 × 3]>  #> 2 Annual                   Он                 FALSE         25 <tibble [25 × 3]>  # View cancer types cancer_types <- nso_dim_values(cancer_tbl, \"Type malignant neoplasms\", labels = \"en\") cancer_types |> head(10) #> # A tibble: 7 × 2 #>   code  label_en        #>   <chr> <chr>           #> 1 0     \"Total\"         #> 2 1     \" Liver\"        #> 3 2     \" Cervix uteri\" #> 4 3     \" Stomach\"      #> 5 4     \" Lung\"         #> 6 5     \" Oesophagus\"   #> 7 6     \" Other\"  # Check time coverage # Note: \"Annual\" dimension uses internal codes, so we map labels (years) to codes annual_meta <- nso_dim_values(cancer_tbl, \"Annual\", labels = \"both\") years <- annual_meta$label_en years #>  [1] \"2024\" \"2023\" \"2022\" \"2021\" \"2020\" \"2019\" \"2018\" \"2017\" \"2016\" \"2015\" #> [11] \"2014\" \"2013\" \"2012\" \"2011\" \"2010\" \"2009\" \"2008\" \"2007\" \"2006\" \"2005\" #> [21] \"2004\" \"2003\" \"2002\" \"2001\" \"2000\""},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"fetching-and-visualizing-cancer-trends","dir":"Articles","previous_headings":"Case Study: Cancer Epidemiology","what":"Fetching and Visualizing Cancer Trends","title":"Discovering Public Health Data","text":"","code":"# Fetch cancer incidence data for the most common types # We focus on the last 10 years to show recent trends # and select 4 major cancer types (Lung, Liver, Stomach, Cervix)  # Step 1: Identify the 10 most recent years recent_years <- annual_meta |>   arrange(label_en) |>   tail(10) |>   pull(code)  # Step 2: Fetch data for major cancer types cancer_data <- nso_data(   tbl_id = cancer_tbl,   selections = list(     \"Type malignant neoplasms\" = c(\"1\", \"2\", \"3\", \"4\"), # Lung, Liver, Stomach, Cervix     \"Annual\" = recent_years   ),   labels = \"en\" )  # Visualize cancer incidence trends as static plot p <- cancer_data |>   ggplot(aes(     x = as.integer(Annual_en), y = value, color = `Type malignant neoplasms_en`,     group = `Type malignant neoplasms_en`   )) +   geom_line(linewidth = 1.2) +   geom_point(size = 3, shape = 21, fill = \"white\", stroke = 1.5) +  # hollow points stand out on lines   scale_color_viridis_d(option = \"plasma\", end = 0.9) +  # colorblind-friendly discrete palette   scale_x_continuous(breaks = function(x) seq(ceiling(min(x)), floor(max(x)), by = 1)) +   labs(     title = \"Cancer Incidence Trends in Mongolia\",     subtitle = \"New cases per 10,000 population (Recent Trends)\",     x = NULL,     y = \"Incidence Rate (per 10,000)\",     color = \"Cancer Type\",     caption = \"Source: NSO Mongolia\"   ) +   theme_minimal(base_size = 12) +   theme(     legend.position = \"top\",     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\", margin = margin(b = 10)),     panel.grid.minor = element_blank(),     panel.grid.major.x = element_blank(),  # vertical gridlines clutter multi-line plots     axis.text = element_text(color = \"grey30\")   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"regional-disparities","dir":"Articles","previous_headings":"Case Study: Cancer Epidemiology","what":"Regional Disparities","title":"Discovering Public Health Data","text":"","code":"# Infant mortality by aimag imr_tbl <- \"DT_NSO_2100_015V1\" # IMR per 1,000 live births (Monthly)  # Get metadata imr_meta <- nso_table_meta(imr_tbl) months <- nso_dim_values(imr_tbl, \"Month\", labels = \"en\")  # Fetch recent data for all regions (2024 Average) months_2024 <- months |>   filter(grepl(\"2024\", label_en)) |>   pull(code)  imr_data <- nso_data(   tbl_id = imr_tbl,   selections = list(     \"Region\" = nso_dim_values(imr_tbl, \"Region\")$code,     \"Month\" = months_2024   ),   labels = \"en\" ) |>   filter(nchar(Region) == 3) |> # Keep only Aimags and Ulaanbaatar   mutate(     Region_en = trimws(Region_en),     Region_en = dplyr::case_match(       Region_en,       \"Bayan-Ulgii\" ~ \"Bayan-Ölgii\",       \"Uvurkhangai\" ~ \"Övörkhangai\",       \"Khuvsgul\" ~ \"Hovsgel\",       \"Umnugovi\" ~ \"Ömnögovi\",       \"Tuv\" ~ \"Töv\",       \"Sukhbaatar\" ~ \"Sükhbaatar\",       .default = Region_en     )   ) |>   group_by(Region_en) |>   summarise(value = mean(value, na.rm = TRUE), .groups = \"drop\")  # Find regions with highest IMR imr_data |>   arrange(desc(value)) |>   select(Region_en, value) |>   head(10) #> # A tibble: 10 × 2 #>    Region_en    value #>    <chr>        <dbl> #>  1 Hovsgel       27.2 #>  2 Arkhangai     24.8 #>  3 Övörkhangai   23.9 #>  4 Bayankhongor  21.6 #>  5 Ömnögovi      19.9 #>  6 Uvs           19.8 #>  7 Sükhbaatar    17.9 #>  8 Bayan-Ölgii   17.7 #>  9 Zavkhan       17.5 #> 10 Khovd         16.8"},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"time-trend-analysis","dir":"Articles","previous_headings":"Case Study: Cancer Epidemiology","what":"Time Trend Analysis","title":"Discovering Public Health Data","text":"","code":"# Analyze national trend (Monthly) imr_national <- nso_data(   tbl_id = imr_tbl,   selections = list(     \"Region\" = \"0\", # National total     \"Month\" = months$code   ),   labels = \"en\" )  # Analyze national infant mortality trend using monthly data # Convert Month_en column (format: \"YYYY-MM\") to proper dates # Filter to 2019-2024 period for clear recent trends  imr_national |>   mutate(date = as.Date(paste0(Month_en, \"-01\"))) |>   filter(date >= as.Date(\"2019-01-01\") & date <= as.Date(\"2024-12-31\")) |>   ggplot(aes(x = date, y = value, group = 1)) +   geom_line(color = \"#2980b9\", linewidth = 1, alpha = 0.3) +  # dim raw data so trend stands out   geom_point(color = \"#2980b9\", size = 2, shape = 21, fill = \"white\", stroke = 1, alpha = 0.5) +   geom_smooth(method = \"loess\", se = TRUE, color = \"#2980b9\", fill = \"#2980b9\", alpha = 0.2, linewidth = 1.5) +  # LOESS smoother reveals underlying trend   scale_x_date(date_breaks = \"1 year\", date_labels = \"%Y\") +   scale_y_continuous(limits = c(0, NA), expand = expansion(mult = c(0, 0.2))) +  # y-axis starts at 0 to avoid exaggerating changes   labs(     title = \"Infant Mortality Rate Trend\",     subtitle = \"Monthly Deaths per 1,000 live births (2019-2024)\",     x = NULL,     y = \"IMR (per 1,000 live births)\",     caption = \"Source: NSO Mongolia\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\"),     panel.grid.minor = element_blank(),     panel.grid.major.x = element_blank()   )"},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"case-study-tuberculosis-burden","dir":"Articles","previous_headings":"","what":"Case Study: Tuberculosis Burden","title":"Discovering Public Health Data","text":"Let’s analyze seasonal trends Tuberculosis using monthly data.  Biostatistical Note: plot shows number reported cases, incidence rate. Trends interpreted caution, increase cases due population growth improved detection, rather increase disease risk.","code":"# TB cases (Monthly) tb_tbl <- \"DT_NSO_2100_035V1\" # CASES OF COMMUNICABLE DISEASES, by type of selected diseases and by month  # Get metadata to find the code for Tuberculosis # Note: Dimensions are \"Indicators\" and \"Month\" indicators <- nso_dim_values(tb_tbl, \"Indicators\", labels = \"en\") tb_code <- indicators |>   filter(grepl(\"Tuberculosis\", label_en, ignore.case = TRUE)) |>   pull(code)  # Fetch monthly data tb_data <- nso_data(   tbl_id = tb_tbl,   selections = list(     \"Indicators\" = tb_code,     \"Month\" = nso_dim_values(tb_tbl, \"Month\")$code   ),   labels = \"en\" )  # Visualize Monthly Tuberculosis Trends p <- tb_data |>   mutate(date = as.Date(paste0(Month_en, \"-01\"))) |>   filter(!is.na(value)) |>   ggplot(aes(x = date, y = value, group = 1)) +   geom_line(color = \"#2c3e50\", linewidth = 1, alpha = 0.3) +  # dim raw data   geom_point(color = \"#2c3e50\", size = 2, alpha = 0.3) +   geom_smooth(method = \"loess\", se = TRUE, color = \"#e74c3c\", fill = \"#e74c3c\", alpha = 0.2, linewidth = 1.5) +  # trend line   scale_x_date(date_breaks = \"1 year\", date_labels = \"%Y\") +   scale_y_continuous(limits = c(0, NA), expand = expansion(mult = c(0, 0.2))) +  # start y-axis at 0   labs(     title = \"Tuberculosis Cases in Mongolia\",     subtitle = \"Monthly reported cases\",     x = NULL,     y = \"Number of Cases (Monthly)\",     caption = \"Source: NSO Mongolia (DT_NSO_2100_035V1)\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\"),     panel.grid.minor = element_blank()   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"tips-for-epidemiological-research","dir":"Articles","previous_headings":"","what":"Tips for Epidemiological Research","title":"Discovering Public Health Data","text":"Always check time coverage: Use nso_table_periods() verify data availability Use labels clarity: Set labels = \"en\" get readable dimension names Join multiple indicators: Combine tables calculate derived metrics (e.g., case-fatality rates) Account denominator data: Link disease counts population data rate calculations Regional analysis: health tables include breakdowns aimag soum geographic analysis","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/discovery.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Discovering Public Health Data","text":"Mapping Health Outcomes: See Mapping Guide spatial epidemiology Reference Documentation: Explore available functions Reference","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Environmental Data Analysis","text":"Air quality primary environmental determinant health Mongolia. NSO’s network monitoring stations provides high-resolution data essential exposure assessment. Unlike aggregated regional data, station-level measurements allow localized exposure assessment—critical environmental health research. guide demonstrates : - Analyze air quality trends across monitoring stations - Compare pollutant levels regulatory standards - Map water quality across river basins - Track climate-related health risks (dust exposure)","code":""},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"pollutant-concentrations-by-station","dir":"Articles","previous_headings":"Air Quality Monitoring","what":"Pollutant Concentrations by Station","title":"Environmental Data Analysis","text":"NSO maintains air quality monitoring stations measure key pollutants. ’ll focus Top 10 polluted stations Ulaanbaatar understand severity exposure.","code":"# 1. Identify Top 10 Polluted Stations in UB (using 2024 annual data) air_annual <- tryCatch(   {     nso_data(       \"DT_NSO_2024_135V01\",       selections = list(Year = \"2024\"),       labels = \"en\"     )   },   error = function(e) NULL )  if (is.null(air_annual) || nrow(air_annual) == 0) {   air_annual <- utils::read.csv(     system.file(\"extdata\", \"air_annual_cached.csv\", package = \"mongolstats\"),     check.names = FALSE,     stringsAsFactors = FALSE   ) }  air_annual <- air_annual |>   filter(!is.na(value)) |>   mutate(     Station = str_trim(`Station location_en`),     Pollutant = str_trim(Indicator_en)   )  # Define UB Stations ub_stations <- c(   \"Misheel-Expo center\", \"West crossroad\", \"1st micro district\",   \"13th micro district\", \"32nd Toirog\", \"Ofitseruudiin ordon\",   \"Kharkhorin market\", \"Urgakh naran micro district\", \"Dambdarjaa\",   \"Khailaast\", \"Tolgoit\", \"Zuragt\", \"Amgalan\", \"Nisekh\",   \"Tavan buudal\", \"Bayankhoshuu\", \"Sharkhad\", \"100 ail\" )  # Rank UB stations by PM2.5 levels top_10_stations <- air_annual |>   filter(Station %in% ub_stations) |>   filter(str_detect(Pollutant, \"PM2.5\")) |>   arrange(desc(value)) |>   head(10) |>   pull(Station)  # 2. Fetch Monthly Data for Detailed Trends (2023-2025) air_monthly <- tryCatch(   {     nso_data(       \"DT_NSO_2400_015V2\",       selections = list(         Year = as.character(2023:2025)       ),       labels = \"en\"     )   },   error = function(e) NULL )  if (is.null(air_monthly) || nrow(air_monthly) == 0) {   air_monthly <- utils::read.csv(     system.file(\"extdata\", \"air_monthly_cached.csv\", package = \"mongolstats\"),     check.names = FALSE,     stringsAsFactors = FALSE   ) }  air_monthly <- air_monthly |>   filter(!is.na(value)) |>   mutate(     Station = str_trim(Location_en),     Pollutant_Raw = str_trim(`Indicator of air pollution_en`),     Date = as.Date(paste0(Month_en, \"-01\"))   ) |>   # Explicit date filter to ensure only 2023-2025 data (Year selection may not work)   filter(Date >= as.Date(\"2021-01-01\"), Date <= as.Date(\"2025-12-31\")) |>   filter(Station %in% top_10_stations)   # Clean and Reshape Data for Ribbons # We need Average, Min, and Max for PM2.5 and SO2 air_trends <- air_monthly |>   mutate(     Pollutant_Type = case_when(       str_detect(Pollutant_Raw, \"PM2.5\") ~ \"PM2.5\",       str_detect(Pollutant_Raw, \"Sulphur dioxide\") ~ \"SO2\",       TRUE ~ NA_character_     ),     Measure = case_when(       str_detect(Pollutant_Raw, \"Average\") ~ \"Average\",       str_detect(Pollutant_Raw, \"Maximum\") ~ \"Maximum\",       str_detect(Pollutant_Raw, \"Minimum\") ~ \"Minimum\",       TRUE ~ \"Other\"     )   ) |>   filter(!is.na(Pollutant_Type), Measure %in% c(\"Average\", \"Maximum\")) |>   # Use Average for the trend line and Maximum for the upper ribbon bound   # Outlier Removal: Group by Station and Pollutant to detect anomalies   # Using IQR method (3 * IQR) to remove extreme outliers while keeping natural spikes   group_by(Station, Pollutant_Type, Measure) |>   mutate(     Q1 = quantile(value, 0.25, na.rm = TRUE),     Q3 = quantile(value, 0.75, na.rm = TRUE),     IQR = Q3 - Q1,     Lower = Q1 - 3 * IQR,     Upper = Q3 + 3 * IQR,     Is_Outlier = value < Lower | value > Upper   ) |>   filter(!Is_Outlier) |>   ungroup() |>   select(Station, Date, Pollutant_Type, Measure, value) |>   pivot_wider(names_from = Measure, values_from = value)  # Note: If \"Minimum\" isn't explicitly available, we'll just show Average and Max range"},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"pm2-5-trends-high-risk-stations","dir":"Articles","previous_headings":"Air Quality Monitoring","what":"PM2.5 Trends: High-Risk Stations","title":"Environmental Data Analysis","text":"Fine Particulate Matter (PM2.5) poses greatest health risk among air pollutants due ability penetrate deep lungs bloodstream. following trends reveal chronic winter pollution crisis across Ulaanbaatar’s exposed neighborhoods. dashed line means: horizontal dashed red line represents Mongolia’s Maximum Allowable Concentration (MAC) PM2.5 annual average (0.025 mg/m³). Values line indicate non-compliance national air quality standards heightened health risks.  Key Findings: 10 stations show systematic winter exceedances, peak concentrations reaching 4-10x MAC limit heating season (November-February). Even summer months, many stations hover near regulatory threshold, indicating year-round exposure dangerous seasonal spikes.","code":"# MAC annual average for PM2.5 mac_pm25 <- 0.025  p_pm <- air_trends |>   filter(Pollutant_Type == \"PM2.5\") |>   ggplot(aes(x = Date, group = Station)) +   # MAC reference line - regulatory threshold for health protection   geom_hline(yintercept = mac_pm25, linetype = \"dashed\", color = \"darkred\", linewidth = 1) +   # Ribbon shows range from average to maximum - captures daily variability   geom_ribbon(aes(ymin = Average, ymax = Maximum), fill = \"red\", alpha = 0.2) +   geom_line(aes(y = Average), color = \"firebrick\", linewidth = 0.8) +   facet_wrap(~Station, ncol = 2, scales = \"free_y\") +  # each station on its own scale   scale_x_date(date_breaks = \"6 months\", date_labels = \"%b %Y\") +   labs(     title = \"PM2.5 Trends in Top 10 Polluted UB Stations (2021-2025)\",     subtitle = \"Monthly Average (Line), Maximum (Ribbon), and MAC Limit (Dashed Line)\",     x = NULL,     y = \"Concentration (mg/m³)\"   ) +   scale_y_continuous(limits = c(0, NA)) +  # y-axis starts at 0 for honest comparison   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     strip.text = element_text(face = \"bold\"),     panel.grid.minor = element_blank(),     axis.text.x = element_text(angle = 45, hjust = 1)   )  p_pm  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"sulfur-dioxide-so₂-trends-the-coal-combustion-signature","dir":"Articles","previous_headings":"Air Quality Monitoring","what":"Sulfur Dioxide (SO₂) Trends: The Coal Combustion Signature","title":"Environmental Data Analysis","text":"Sulfur dioxide direct tracer raw coal combustion residential heating. Unlike PM2.5 (multiple sources), ₂ patterns directly reflect fuel use intensity, making critical indicator evaluating clean energy transition policies. dashed line means: horizontal dashed orange line represents Mongolia’s MAC ₂ annual average (0.020 mg/m³). Exceedances indicate regulatory non-compliance respiratory health risks, particularly vulnerable populations (children, elderly, asthmatics).  Critical Pattern: ₂ shows extreme seasonal variation (20-30x increase winter vs. summer), far exceeding PM2.5’s seasonal swing. confirms residential coal heating dominant driver winter air pollution. Peak concentrations January-February can reach 10-30x MAC limit, representing acute health hazard conditions.","code":"# MAC annual average for SO2 mac_so2 <- 0.020  p_so2 <- air_trends |>   filter(Pollutant_Type == \"SO2\") |>   ggplot(aes(x = Date, group = Station)) +   # MAC reference line - SO2 threshold for respiratory health   geom_hline(yintercept = mac_so2, linetype = \"dashed\", color = \"darkorange3\", linewidth = 1) +   geom_ribbon(aes(ymin = Average, ymax = Maximum), fill = \"orange\", alpha = 0.2) +   geom_line(aes(y = Average), color = \"darkorange\", linewidth = 0.8) +   facet_wrap(~Station, ncol = 2, scales = \"free_y\") +   scale_x_date(date_breaks = \"6 months\", date_labels = \"%b %Y\") +   labs(     title = \"SO₂ Trends in Top 10 Polluted UB Stations (2021-2025)\",     subtitle = \"Monthly Average (Line), Maximum (Ribbon), and MAC Limit (Dashed Line)\",     x = NULL,     y = \"Concentration (mg/m³)\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     strip.text = element_text(face = \"bold\"),     panel.grid.minor = element_blank(),     axis.text.x = element_text(angle = 45, hjust = 1)   )  p_so2  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"regulatory-compliance-exceedance-factor","dir":"Articles","previous_headings":"Air Quality Monitoring","what":"Regulatory Compliance: Exceedance Factor","title":"Environmental Data Analysis","text":"Exceedance Factor quantifies many times station’s annual average exceeds regulatory limit. factor 1.0 represents threshold; values >1.0 indicate non-compliance. clearly see much stations exceed safety limits, calculate Exceedance Factor (Ratio Annual Average MAC). value > 1.0 indicates non-compliance.  Compliance Crisis: 90% top stations non-compliant PM2.5, exceedance factors reaching 2.0-2.5x (equivalent annual averages 0.050-0.063 mg/m³). 13th micro district achieves compliance PM2.5, suggesting localized factors (wind patterns, lower housing density, cleaner fuel access) warrant investigation replication elsewhere. ₂ non-compliance universal across 10 stations, factors 2-4x, underscoring pervasive reliance raw coal heating.","code":"# 1. Get MAC Standards mac_so2 <- 0.020 # Annual average mg/m3 mac_no2 <- 0.030 # Annual average mg/m3 mac_pm25 <- 0.025 # Annual average mg/m3 (WHO/National target approximation)  # 2. Calculate Exceedance for 2024 compliance <- air_annual |>   filter(Station %in% top_10_stations) |>   mutate(     Pollutant_Type = case_when(       str_detect(Pollutant, \"PM2.5\") ~ \"PM2.5\",       str_detect(Pollutant, \"Sulphur dioxide\") ~ \"SO2\",       str_detect(Pollutant, \"Nitrogen dioxide\") ~ \"NO2\",       TRUE ~ NA_character_     ),     MAC = case_when(       Pollutant_Type == \"PM2.5\" ~ mac_pm25,       Pollutant_Type == \"SO2\" ~ mac_so2,       Pollutant_Type == \"NO2\" ~ mac_no2,       TRUE ~ NA_real_     )   ) |>   filter(!is.na(Pollutant_Type)) |>   mutate(     Exceedance_Factor = value / MAC,     Status = ifelse(Exceedance_Factor > 1, \"Non-Compliant\", \"Compliant\")   )  # 3. Plot regulatory compliance - exceedance factor shows how many times over the limit p_comp <- compliance |>   ggplot(aes(x = reorder(Station, Exceedance_Factor), y = Exceedance_Factor, fill = Status)) +   geom_col() +   geom_hline(yintercept = 1, linetype = \"dashed\", color = \"black\", linewidth = 1) +  # compliance threshold   geom_text(aes(label = round(Exceedance_Factor, 1)), hjust = -0.1, size = 2.5) +  # inline labels   facet_wrap(~Pollutant_Type, scales = \"free_x\") +   coord_flip() +   scale_fill_manual(values = c(\"Compliant\" = \"#27ae60\", \"Non-Compliant\" = \"#c0392b\")) +   scale_y_continuous(expand = expansion(mult = c(0, 0.15))) +   labs(     title = \"Regulatory Compliance: Exceedance Factors (2024)\",     subtitle = \"Ratio of Annual Average to Maximum Allowable Concentration (MAC)\",     y = \"Times above Safety Limit\",     x = NULL   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     legend.position = \"bottom\",     panel.grid.major.y = element_blank()   )  p_comp  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"water-quality-monitoring","dir":"Articles","previous_headings":"","what":"Water Quality Monitoring","title":"Environmental Data Analysis","text":"Electrical conductivity serves proxy total dissolved solids water mineralization. Values >1,000 µS/cm typically indicate significant mineral content; values >10,000 µS/cm suggest either natural saline conditions (endorheic basins) severe anthropogenic pollution. Water quality monitored specific river lake stations across Mongolia’s major basins. focus Top 15 stations highest electrical conductivity.  Interpreting Conductivity: Tale Three Sources top 15 stations reveal three distinct environmental stories driven geology, industry, climate: Uvs/Davst & Gashuun: Uvs Lake, UNESCO site Mongolia’s largest saline lake. Khyargas: major salt lake Great Lakes Depression. Sangiin dalai: saline lake Ulziit sum, Uvurkhangai province, distinct larger northern lake name. Taigam/Delger: Likely saline wetland spring Govi-Altai mineral belt. Khangal (Erdenet): Khangal River heavily impacted mining activities wastewater Erdenet city, showing mineralization 2x higher historical baselines. Tuul (Songino) & Dund gol: stations capture urban wastewater footprint Ulaanbaatar, treated untreated effluent raises ion concentrations downstream. Ganga, Duut, & Ugii: traditionally freshwater/brackish lakes experiencing secondary salinization. water levels drop due climate change evaporation, mineral concentrations rise, turning sensitive indicators regional aridification. Conclusion: Uvs Khyargas naturally “salty,” elevated readings Khangal Tuul rivers actionable signals anthropogenic pressure.","code":"# Fetch water quality data water <- nso_data(   \"DT_NSO_2300_005V12\",   selections = list(),   labels = \"en\" ) |>   filter(!is.na(value)) |>   mutate(     Station = str_trim(`Station location_en`),     Indicator = str_trim(Indicator_en)   )  # Focus on electrical conductivity & Top 15 conductivity <- water |>   filter(str_detect(Indicator, \"Electrical conductivity\")) |>   slice_max(order_by = value, n = 15)  # Plot water quality - top stations by conductivity p <- conductivity |>   mutate(Station = reorder(Station, value)) |>   ggplot(aes(x = Station, y = value, fill = value)) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = scales::comma(value)), hjust = -0.1, size = 3) +  # inline labels   coord_flip() +   scale_y_continuous(labels = scales::comma, expand = expansion(mult = c(0, 0.15))) +   scale_fill_viridis_c(option = \"viridis\") +   labs(     title = \"Top 15 Water Stations by Conductivity (2023)\",     subtitle = \"Higher values may indicate increased mineralization or pollution\",     x = NULL,     y = \"Conductivity (μS/cm)\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     panel.grid.major.y = element_blank(),     panel.grid.minor = element_blank()   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"climate-exposure-dust-days","dir":"Articles","previous_headings":"","what":"Climate Exposure: Dust Days","title":"Environmental Data Analysis","text":"Dust storms pose respiratory health risks coarse particulate (PM10) inhalation serve climate change indicator. Desertification reduced soil moisture amplify dust mobilization Mongolia’s Gobi region. Dust storms significant environmental health concern. Top 10 stations highest number dust days 2024.  Gobi Dust Belt: Sainshand (30 days/year) Dalanzadgad (21 days/year) represent core Mongolia’s dust exposure zone. Chronic dust exposure frequency (equivalent ~6-8% year) contributes elevated respiratory disease burden. Climate projections suggest increasing dust frequency due reduced precipitation vegetation loss, particularly Gobi-steppe ecotone.","code":"# Fetch dust day data dust <- nso_data(   \"DT_NSO_2400_028V1\",   selections = list(),   labels = \"en\" ) |>   filter(!is.na(value)) |>   mutate(     Station = str_trim(`Station location_en`),     Month_date = Month_en   )  # Parse dates and aggregate to annual dust_annual <- dust |>   mutate(     Year = as.numeric(str_sub(Month_date, 1, 4))   ) |>   filter(Year == 2024) |>   group_by(Station) |>   summarize(     Total_dust_days = sum(value, na.rm = TRUE),     .groups = \"drop\"   ) |>   slice_max(Total_dust_days, n = 10)  # Plot dust exposure by station p <- dust_annual |>   mutate(Station = reorder(Station, Total_dust_days)) |>   ggplot(aes(x = Station, y = Total_dust_days, fill = Total_dust_days)) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = Total_dust_days), hjust = -0.2, size = 3.5) +  # inline labels   coord_flip() +   scale_fill_viridis_c(option = \"magma\", direction = -1) +   scale_y_continuous(expand = expansion(mult = c(0, 0.15))) +   labs(     title = \"Top 10 Stations for Dust Exposure (2024)\",     subtitle = \"Total annual dust days\",     x = NULL,     y = \"Days\",     caption = \"Source: NSO Mongolia\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     panel.grid.major.y = element_blank()   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"geographic-context","dir":"Articles","previous_headings":"","what":"Geographic Context","title":"Environmental Data Analysis","text":"spatial analysis, station-level environmental data ideally joined geographic coordinates. NSO data provides station names, separate lookup table lat/lon coordinates enable: Spatial interpolation pollutant concentrations Distance-based exposure assignment health studies Hot spot identification using spatial statistics Example workflow:","code":"# Hypothetical station metadata table (user would compile this) station_metadata <- tribble(   ~Station_name, ~Latitude, ~Longitude, ~Aimag,   \"Ulaanbaatar\", 47.9221, 106.9155, \"Ulaanbaatar\",   \"Darkhan\", 49.4869, 105.9228, \"Darkhan-Uul\",   \"Erdenet\", 49.0333, 104.0833, \"Orkhon\"   # ... add all stations )  # Join with environmental data air_with_location <- air_quality |>   left_join(station_metadata, by = c(\"Station\" = \"Station_name\"))  # Now you can create maps, calculate distances, etc."},{"path":"https://temuulene.github.io/mongolstats/articles/environmental-surveillance.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Environmental Data Analysis","text":"Discover Tables: See Discovery Guide search techniques Mapping: Learn spatial analysis Mapping Guide Reference: Browse functions Reference","code":""},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started","text":"Install GitHub:","code":"# install.packages(\"devtools\") # devtools::install_github(\"temuulene/mongolstats\")"},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"your-first-analysis-infant-mortality-trends","dir":"Articles","previous_headings":"","what":"Your First Analysis: Infant Mortality Trends","title":"Getting Started","text":"Let’s walk complete workflow using infant mortality data—key indicator population health health system performance.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"step-1-load-packages","dir":"Articles","previous_headings":"Your First Analysis: Infant Mortality Trends","what":"Step 1: Load Packages","title":"Getting Started","text":"","code":"library(mongolstats) library(dplyr) library(ggplot2)  # Set language to English for readable output nso_options(mongolstats.lang = \"en\")  # Set global ggplot2 theme with proper margins to prevent text cutoff theme_set(   theme_minimal(base_size = 11) +     theme(       plot.margin = margin(10, 10, 10, 10),       plot.title = element_text(size = 13, face = \"bold\"),       plot.subtitle = element_text(size = 10, color = \"grey40\"),       legend.text = element_text(size = 9),       legend.title = element_text(size = 10)     ) )"},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"step-2-find-the-right-table","dir":"Articles","previous_headings":"Your First Analysis: Infant Mortality Trends","what":"Step 2: Find the Right Table","title":"Getting Started","text":"Search infant mortality data: ’ll use DT_NSO_2100_015V1 - Infant Mortality Rate per 1,000 live births (Monthly).","code":"# Search by keyword mortality_tables <- nso_itms_search(\"infant mortality\") mortality_tables |>   select(tbl_id, tbl_eng_nm) |>   head(5) #> # A tibble: 5 × 2 #>   tbl_id            tbl_eng_nm                                                   #>   <chr>             <chr>                                                        #> 1 DT_NSO_2100_014V1 NUMBER OF INFANT MORTALITY, aimags and the Capital and by m… #> 2 DT_NSO_2100_014V2 INFANT MORTALITY RATE, per 1000 live births, aimags and the… #> 3 DT_NSO_2100_014V4 INFANT MORTALITY, by sex, by soum, and by year               #> 4 DT_NSO_2100_014V5 INFANT MORTALITY RATE,  per 1000 live births, by sex, by so… #> 5 DT_NSO_2100_015V1 INFANT MORTALITY RATE, per 1000 live births, aimags and the…"},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"step-3-explore-table-metadata","dir":"Articles","previous_headings":"Your First Analysis: Infant Mortality Trends","what":"Step 3: Explore Table Metadata","title":"Getting Started","text":"fetching data, check dimensions available:","code":"# View table structure meta <- nso_table_meta(\"DT_NSO_2100_015V1\") meta #> # A tibble: 2 × 5 #>   dim    code  is_time n_values codes              #>   <chr>  <chr> <lgl>      <int> <list>             #> 1 Region Бүс   FALSE         28 <tibble [28 × 3]>  #> 2 Month  Сар   FALSE        120 <tibble [120 × 3]>  # Check available months time_vals <- nso_dim_values(\"DT_NSO_2100_015V1\", \"Month\", labels = \"en\") head(time_vals, 10) #> # A tibble: 10 × 2 #>    code  label_en #>    <chr> <chr>    #>  1 0     2025-12  #>  2 1     2025-11  #>  3 2     2025-10  #>  4 3     2025-09  #>  5 4     2025-08  #>  6 5     2016-01  #>  7 6     2016-02  #>  8 7     2016-03  #>  9 8     2016-04  #> 10 9     2016-05"},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"step-4-fetch-data","dir":"Articles","previous_headings":"Your First Analysis: Infant Mortality Trends","what":"Step 4: Fetch Data","title":"Getting Started","text":"Get national infant mortality rates past two decades:","code":"# Get all month codes months <- nso_dim_values(\"DT_NSO_2100_015V1\", \"Month\", labels = \"en\")  imr_national <- nso_data(   tbl_id = \"DT_NSO_2100_015V1\",   selections = list(     \"Region\" = \"0\", # National level     \"Month\" = months$code   ),   labels = \"en\" # Get English labels )  # Preview imr_national |>   head(10) #> # A tibble: 10 × 5 #>    Region Month value Region_en Month_en #>    <chr>  <chr> <dbl> <chr>     <chr>    #>  1 0      0        13 Total     2025-12  #>  2 0      1        13 Total     2025-11  #>  3 0      2        11 Total     2025-10  #>  4 0      3        14 Total     2025-09  #>  5 0      4        16 Total     2025-08  #>  6 0      5        12 Total     2016-01  #>  7 0      6        13 Total     2016-02  #>  8 0      7        14 Total     2016-03  #>  9 0      8        15 Total     2016-04  #> 10 0      9        15 Total     2016-05"},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"step-5-visualize-the-trend","dir":"Articles","previous_headings":"Your First Analysis: Infant Mortality Trends","what":"Step 5: Visualize the Trend","title":"Getting Started","text":"Create publication-ready plot:","code":"# Prepare the data for visualization # Step 1: Convert month strings to proper dates for time series plotting # Step 2: Filter to recent decade (2015-2024) for clear trend visibility  p <- imr_national |>   mutate(date = as.Date(paste0(Month_en, \"-01\"))) |>  # convert \"YYYY-MM\" string to Date   filter(date >= as.Date(\"2015-01-01\") & date <= as.Date(\"2024-12-31\")) |>   ggplot(aes(x = date, y = value, group = 1)) +   geom_line(color = \"#2c3e50\", linewidth = 1, alpha = 0.3) +  # dim raw data so trend stands out   geom_point(color = \"#e74c3c\", size = 3, shape = 21, fill = \"white\", stroke = 1.5, alpha = 0.6) +   geom_smooth(method = \"loess\", se = TRUE, color = \"#3498db\", fill = \"#3498db\", alpha = 0.2, linewidth = 1.5) +  # LOESS reveals trend through monthly noise   scale_x_date(date_breaks = \"1 year\", date_labels = \"%Y\") +   labs(     title = \"Infant Mortality Rate in Mongolia (Monthly)\",     subtitle = \"Deaths per 1,000 live births (National Trend)\",     x = NULL,     y = \"IMR (per 1,000)\",     caption = \"Source: NSO Mongolia via mongolstats\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\"),     panel.grid.minor = element_blank(),     panel.grid.major.x = element_blank()  # vertical gridlines clutter time series   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"regional-comparison","dir":"Articles","previous_headings":"","what":"Regional Comparison","title":"Getting Started","text":"Compare infant mortality across different regions:","code":"# Get all aimags for most recent year (2024) # We'll take the average of monthly rates months_2024 <- months |>   filter(grepl(\"2024\", label_en)) |>   pull(code)  # Fetch IMR data for all regions in 2024 # We'll calculate the annual average from monthly data  imr_regional <- nso_data(   tbl_id = \"DT_NSO_2100_015V1\",   selections = list(     \"Region\" = nso_dim_values(\"DT_NSO_2100_015V1\", \"Region\")$code,     \"Month\" = months_2024   ),   labels = \"en\" ) |>   filter(nchar(Region) == 3) |> # Keep only Aimags and Ulaanbaatar (code length = 3)   mutate(     Region_en = trimws(Region_en),     # Standardize region names to match geographic boundary data     Region_en = dplyr::case_match(       Region_en,       \"Bayan-Ulgii\" ~ \"Bayan-Ölgii\",       \"Uvurkhangai\" ~ \"Övörkhangai\",       \"Khuvsgul\" ~ \"Hovsgel\",       \"Umnugovi\" ~ \"Ömnögovi\",       \"Tuv\" ~ \"Töv\",       \"Sukhbaatar\" ~ \"Sükhbaatar\",       .default = Region_en     ),     Type = ifelse(Region %in% c(\"1\", \"2\", \"3\", \"4\"), \"Region\", \"Aimag\")   ) |>   # Calculate annual average IMR from monthly data   group_by(Region_en, Type) |>   summarise(value = mean(value, na.rm = TRUE), .groups = \"drop\")  # Top 10 highest IMR regions imr_regional |>   arrange(desc(value)) |>   select(Region_en, value) |>   head(10) #> # A tibble: 10 × 2 #>    Region_en    value #>    <chr>        <dbl> #>  1 Hovsgel       27.2 #>  2 Arkhangai     24.8 #>  3 Övörkhangai   23.9 #>  4 Bayankhongor  21.6 #>  5 Ömnögovi      19.9 #>  6 Uvs           19.8 #>  7 Sükhbaatar    17.9 #>  8 Bayan-Ölgii   17.7 #>  9 Zavkhan       17.5 #> 10 Khovd         16.8"},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"visualize-regional-disparities","dir":"Articles","previous_headings":"Regional Comparison","what":"Visualize Regional Disparities","title":"Getting Started","text":"","code":"# Calculate national aimag average for reference line aimag_mean <- mean(imr_regional$value[imr_regional$Type == \"Aimag\"], na.rm = TRUE)  p <- imr_regional |>   filter(!is.na(value)) |>   arrange(desc(value)) |>   mutate(Region_en = forcats::fct_reorder(Region_en, value)) |>  # order bars by value, not alphabet   ggplot(aes(x = value, y = Region_en)) +   # Aimags get gradient fill to show relative severity   geom_col(data = ~ subset(., Type == \"Aimag\"), aes(fill = value), width = 0.7) +   # Regions (aggregates) get distinct dark color to differentiate   geom_col(data = ~ subset(., Type == \"Region\"), fill = \"#2c3e50\", width = 0.7) +   geom_text(aes(label = round(value, 1)), hjust = -0.2, color = \"grey30\", size = 3.5) +  # inline labels replace tooltips   scale_fill_gradient2(     low = \"#27ae60\",   # green = low mortality (good)     mid = \"#f39c12\",   # yellow = average     high = \"#e74c3c\",  # red = high mortality (concerning)     midpoint = aimag_mean   ) +   geom_vline(xintercept = aimag_mean, linetype = \"dashed\", color = \"grey50\", linewidth = 0.5) +  # national average reference   scale_x_continuous(expand = expansion(mult = c(0, 0.15))) +  # extra space for labels   labs(     title = \"Infant Mortality by Aimag (2024 Average)\",     subtitle = \"Dark bars represent Regional Averages; dashed line = national aimag average\",     x = \"Deaths per 1,000 live births\",     y = NULL   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\", size = 14),     panel.grid.major.y = element_blank(),  # horizontal gridlines clutter bar charts     panel.grid.minor = element_blank(),     axis.text.y = element_text(color = \"black\"),     legend.position = \"none\"  # gradient is self-explanatory   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"adding-geographic-context","dir":"Articles","previous_headings":"","what":"Adding Geographic Context","title":"Getting Started","text":"Combine mapping spatial analysis:","code":"library(sf)  # Get aimag boundaries aimags <- mn_boundaries(level = \"ADM1\")  # Join IMR data to map imr_map <- aimags |>   left_join(imr_regional, by = c(\"shapeName\" = \"Region_en\"))  # Create choropleth map p <- imr_map |>   ggplot() +   geom_sf(aes(fill = value), color = \"white\", size = 0.2) +   scale_fill_viridis_c(     option = \"magma\",     direction = -1,  # dark = high values (high mortality), light = low     name = \"IMR\\n(per 1,000)\",     labels = scales::label_number()   ) +   labs(     title = \"Infant Mortality Geography (2024 Average)\",     subtitle = \"Spatial distribution of mortality rates\",     caption = \"Source: NSO Mongolia\"   ) +   theme_void() +  # remove axes for cleaner map appearance   theme(     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\"),     legend.position = \"bottom\",          # bottom legend maximizes map width     legend.title = element_text(size = 10, face = \"bold\"),     legend.key.width = unit(1.5, \"cm\")   # wider legend key for continuous scale   )  p  # print static ggplot"},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"best-practices","dir":"Articles","previous_headings":"","what":"Best Practices","title":"Getting Started","text":"Always use labels: Set labels = \"en\" nso_data() readable output Check metadata first: Use nso_table_meta() understand dimensions fetching Use appropriate selections: Specify dimensions English labels (e.g., \"Total\" \"0\") Filter carefully: Exclude total rows (usually code \"0\") analyzing subgroups Clean labels: Use trimws() remove leading/trailing spaces region names joining","code":""},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"time-series-analysis","dir":"Articles","previous_headings":"Common Workflows","what":"Time Series Analysis","title":"Getting Started","text":"Search table → Check periods → Fetch years → Plot trend","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"regional-comparison-1","dir":"Articles","previous_headings":"Common Workflows","what":"Regional Comparison","title":"Getting Started","text":"Search table → Get regions → Fetch latest year → Compare rates","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"spatial-epidemiology","dir":"Articles","previous_headings":"Common Workflows","what":"Spatial Epidemiology","title":"Getting Started","text":"Fetch regional data → Get boundaries → Join → Create choropleth","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started","text":"Discover Data: See Discovery Guide advanced search techniques Create Maps: Learn spatial analysis Mapping Guide Reference: Browse functions Reference","code":""},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/mapping.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Spatial Epidemiology with mongolstats","text":"Geographic analysis essential understanding health disparities targeting interventions. guide demonstrates spatial epidemiology using Mongolia’s aimag-level (provincial) health data.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mapping.html","id":"getting-boundary-data","dir":"Articles","previous_headings":"","what":"Getting Boundary Data","title":"Spatial Epidemiology with mongolstats","text":"Mongolia’s administrative boundaries available three levels:","code":"# ADM0: National boundary country <- mn_boundaries(level = \"ADM0\")  # ADM1: Aimags (21 provinces + Ulaanbaatar) aimags <- mn_boundaries(level = \"ADM1\")  # ADM2: Soums (districts) soums <- mn_boundaries(level = \"ADM2\")  # Quick preview aimags |>   ggplot() +   geom_sf(fill = \"white\", color = \"grey30\", size = 0.3) +   theme_void() +   labs(title = \"Mongolia's 21 Aimags + Ulaanbaatar\")"},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/mapping.html","id":"understanding-regional-disparities","dir":"Articles","previous_headings":"Case Study: Maternal Mortality Geography","what":"Understanding Regional Disparities","title":"Spatial Epidemiology with mongolstats","text":"Maternal mortality critical indicator health system performance equity.","code":"# Fetch maternal mortality data for all aimags (2020-2024) # We'll calculate a 5-year average to smooth out year-to-year variability # This is important because small populations can have unstable rates  mmr_data <- nso_data(   tbl_id = \"DT_NSO_2100_050V1\", # MMR per 100,000 live births   selections = list(     \"Region\" = nso_dim_values(\"DT_NSO_2100_050V1\", \"Region\")$code,     \"Year\" = as.character(2020:2024)   ),   labels = \"en\" ) |>   filter(!Region %in% c(\"0\", \"1\", \"2\", \"3\", \"4\", \"511\")) |> # Exclude Total, Regions, and duplicate UB   mutate(     Region_en = trimws(Region_en),     # Standardize region names to match the geographic boundaries     Region_en = dplyr::case_match(       Region_en,       \"Bayan-Ulgii\" ~ \"Bayan-Ölgii\",       \"Uvurkhangai\" ~ \"Övörkhangai\",       \"Khuvsgul\" ~ \"Hovsgel\",       \"Umnugovi\" ~ \"Ömnögovi\",       \"Tuv\" ~ \"Töv\",       \"Sukhbaatar\" ~ \"Sükhbaatar\",       .default = Region_en     )   ) |>   # Calculate 5-year average to reduce random variation   group_by(Region_en) |>   summarise(value = mean(value, na.rm = TRUE), .groups = \"drop\")  # Preview data mmr_data |>   arrange(desc(value)) |>   select(Region_en, value) |>   head(10) #> # A tibble: 10 × 2 #>    Region_en    value #>    <chr>        <dbl> #>  1 Khovd         69.8 #>  2 Arkhangai     65.9 #>  3 Selenge       60.1 #>  4 Sükhbaatar    53.5 #>  5 Hovsgel       48.0 #>  6 Dornogovi     44.9 #>  7 Töv           41.9 #>  8 Ulaanbaatar   40.4 #>  9 Bayan-Ölgii   39.1 #> 10 Bayankhongor  37.6"},{"path":"https://temuulene.github.io/mongolstats/articles/mapping.html","id":"creating-a-choropleth-map","dir":"Articles","previous_headings":"Case Study: Maternal Mortality Geography","what":"Creating a Choropleth Map","title":"Spatial Epidemiology with mongolstats","text":"","code":"# Join health data to geographic boundaries for spatial analysis mmr_map <- aimags |>   left_join(mmr_data, by = c(\"shapeName\" = \"Region_en\"))  # Create choropleth map p <- mmr_map |>   ggplot() +   geom_sf(aes(fill = value), color = \"white\", size = 0.2) +   scale_fill_viridis_c(     option = \"rocket\",     direction = -1,  # dark = high mortality (concerning)     name = \"MMR\\n(per 100k)\",     labels = scales::label_number()   ) +   labs(     title = \"5-Year Average Maternal Mortality Ratio (2020-2024)\",     subtitle = \"Deaths per 100,000 live births (Mean)\",     caption = \"Source: NSO Mongolia\"   ) +   theme_void() +  # removes axes for clean map appearance   theme(     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\"),     legend.position = \"bottom\",          # bottom legend maximizes map width     legend.title = element_text(size = 10, face = \"bold\"),     legend.key.width = unit(1.5, \"cm\")   # wider legend key for continuous scale   )  p  # print static ggplot"},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/mapping.html","id":"identifying-high-risk-regions","dir":"Articles","previous_headings":"Case Study: Infant Mortality Hot Spots","what":"Identifying High-Risk Regions","title":"Spatial Epidemiology with mongolstats","text":"","code":"# Get infant mortality rates imr_tbl <- \"DT_NSO_2100_015V1\" # IMR per 1,000 live births (Monthly)  # Get metadata months <- nso_dim_values(imr_tbl, \"Month\", labels = \"en\") months_2024 <- months |>   filter(grepl(\"2024\", label_en)) |>   pull(code)  imr_data <- nso_data(   tbl_id = imr_tbl,   selections = list(     \"Region\" = nso_dim_values(imr_tbl, \"Region\")$code,     \"Month\" = months_2024   ),   labels = \"en\" ) |>   filter(nchar(Region) == 3) |> # Keep only Aimags and Ulaanbaatar   mutate(     Region_en = trimws(Region_en),     Region_en = dplyr::case_match(       Region_en,       \"Bayan-Ulgii\" ~ \"Bayan-Ölgii\",       \"Uvurkhangai\" ~ \"Övörkhangai\",       \"Khuvsgul\" ~ \"Hovsgel\",       \"Umnugovi\" ~ \"Ömnögovi\",       \"Tuv\" ~ \"Töv\",       \"Sukhbaatar\" ~ \"Sükhbaatar\",       .default = Region_en     )   ) |>   # Calculate annual average   group_by(Region_en) |>   summarise(value = mean(value, na.rm = TRUE), .groups = \"drop\") |>   mutate(     # Classify risk levels     risk_category = case_when(       value < 10 ~ \"Low (<10)\",       value < 20 ~ \"Medium (10-20)\",       value < 30 ~ \"High (20-30)\",       TRUE ~ \"Very High (≥30)\"     ),     risk_category = factor(       risk_category,       levels = c(\"Low (<10)\", \"Medium (10-20)\", \"High (20-30)\", \"Very High (≥30)\")     )   )  # Create risk category map p <- aimags |>   left_join(imr_data, by = c(\"shapeName\" = \"Region_en\")) |>   ggplot() +   geom_sf(aes(fill = risk_category), color = \"white\", size = 0.2) +   scale_fill_manual(     values = c(       \"Low (<10)\" = \"#27ae60\",       # green = good outcome       \"Medium (10-20)\" = \"#f1c40f\",  # yellow = caution       \"High (20-30)\" = \"#e67e22\",    # orange = concerning       \"Very High (≥30)\" = \"#c0392b\"  # red = critical     ),     na.value = \"grey90\",  # missing data shown in light grey     name = \"Risk Level\\n(IMR)\",     drop = FALSE  # show all levels even if not present in data   ) +   labs(     title = \"Infant Mortality Risk Categories (2024 Average)\",     subtitle = \"Deaths per 1,000 live births\",     caption = \"Source: NSO Mongolia\"   ) +   theme_void() +   theme(     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\"),     legend.position = \"bottom\",          # bottom legend maximizes map width     legend.title = element_text(size = 10, face = \"bold\")   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mapping.html","id":"tips-for-spatial-epidemiology","dir":"Articles","previous_headings":"","what":"Tips for Spatial Epidemiology","title":"Spatial Epidemiology with mongolstats","text":"Check data completeness: aimags may data indicators Use appropriate scales: Choose color scales highlight health disparities Add context: Include reference lines (e.g., national average) relevant Consider population size: Normalize rates population comparing regions Temporal analysis: Create animated maps show geographic trends time","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mapping.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Spatial Epidemiology with mongolstats","text":"Discover Health Data: Return Discovery Guide Learn : Explore functions Reference","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"recent social media post claimed “highest deaths occurring December” Mongolia, speculation might due New Year celebrations. vignette applies rigorous epidemiological methods investigate claim, also considering significant impact COVID-19 pandemic (2020-2022).","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"key-questions","dir":"Articles","previous_headings":"Overview","what":"Key Questions","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"true December mortality peak? deaths genuinely peak December compared months? COVID-19 impact mortality? lockdowns subsequent waves alter seasonal patterns? causes seasonality? winter-related (cardiovascular, respiratory) behavioral?","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"mongolias-context","dir":"Articles","previous_headings":"Overview","what":"Mongolia’s Context","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Extreme Winter: Temperatures reach -40°C, increasing cardiovascular stress respiratory risks. 2020: Strict border closures internal lockdowns (prevention phase). 2021: Community transmission, major lockdowns, vaccination campaigns. 2022: Reopening normalization.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"data-sources","dir":"Articles","previous_headings":"","what":"Data Sources","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"use three complementary datasets NSO:","code":""},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"fetching-and-preparing-data","dir":"Articles","previous_headings":"1. Monthly Death Patterns","what":"Fetching and Preparing Data","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Methodological Note: analyses use daily average deaths (total deaths ÷ days month) rather raw monthly counts. prevents calendar artifacts shorter months (February = 28 days) appear lower mortality longer months (January/December = 31 days).","code":"# Get monthly death data for all regions death_tbl <- \"DT_NSO_2100_027V2\"  # Get all available months months_meta <- nso_dim_values(death_tbl, \"Month\", labels = \"en\")  # Dynamic year filtering (from 2015 to current year) current_year <- as.numeric(format(Sys.Date(), \"%Y\")) years_regex <- paste(2015:current_year, collapse = \"|\") year_pattern <- paste0(\"^(\", years_regex, \")-\")  months_filtered <- months_meta |>   filter(grepl(year_pattern, label_en))  # Fetch national-level deaths (Region code \"0\" = total) deaths_monthly <- nso_data(   tbl_id = death_tbl,   selections = list(     \"Region\" = \"0\",     \"Month\" = months_filtered$code   ),   labels = \"en\" )  # Parse dates and extract components deaths_monthly <- deaths_monthly |>   mutate(     date = as.Date(paste0(Month_en, \"-01\")),     year = year(date),     month = month(date),     month_name = month(date, label = TRUE, abbr = TRUE),     # CRITICAL: Normalize for days in month to avoid calendar artifacts     # February (28 days) would otherwise appear artificially low vs 31-day months     days_in_month = days_in_month(date),     daily_avg = value / days_in_month,     # Create explicit labels for plotting to avoid TRUE/FALSE legends     Month_Type = ifelse(month == 12, \"December\", \"Other Months\"),     Season = ifelse(month %in% c(11, 12, 1, 2, 3), \"Winter (Nov-Mar)\", \"Non-Winter\")   ) |>   filter(!is.na(value), year >= 2015, year <= 2024) |>   arrange(date)"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"time-series-visualization-with-covid-19-context","dir":"Articles","previous_headings":"1. Monthly Death Patterns","what":"Time Series Visualization with COVID-19 Context","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"overlay major COVID-19 phases understand anomalies trend.  Interpretation: Pre-2020: Regular seasonal pattern winter peaks. 2020 (Green Zone): Mortality actually decreased remained stable. Strict lockdowns likely reduced accidents infectious diseases. 2021 (Red/Orange Zone): massive spike mortality corresponds Delta wave, disrupting normal seasonality. December Dominance: adjusting number days month (Daily Average), December emerges consistent peak month mortality intensity. January Dip: Surprisingly, January frequently appears local trough daily average data. suggests “Harvesting Effect” (mortality displacement), sudden onset extreme cold December impacts vulnerable population immediately, leaving smaller pool high-risk individuals January.","code":"# Define COVID-19 Periods for annotation covid_periods <- tibble::tribble(   ~Start, ~End, ~Phase, ~Color,   \"2020-01-27\", \"2020-11-11\", \"Prevention (No Local Cases)\", \"#e8f5e9\",   \"2020-11-12\", \"2021-05-08\", \"Lockdowns & First Wave\", \"#ffebee\",   \"2021-05-09\", \"2022-02-16\", \"Delta/Omicron Waves\", \"#fff3e0\" ) |>   mutate(across(c(Start, End), as.Date))  # Calculate y-range for shading to ensure visibility in Plotly y_range <- range(deaths_monthly$daily_avg, na.rm = TRUE) y_min <- y_range[1] * 0.9 y_max <- y_range[2] * 1.1  # Create time series plot with COVID-19 phase annotations p <- deaths_monthly |>   ggplot(aes(x = date, y = daily_avg)) +   # Background shading for COVID-19 phases - provides historical context   geom_rect(     data = covid_periods,     aes(xmin = Start, xmax = End, ymin = y_min, ymax = y_max, fill = Phase),     inherit.aes = FALSE, alpha = 0.3   ) +   # Main time series line   geom_line(color = \"#2c3e50\", linewidth = 0.8, alpha = 0.8) +   # Highlight December points - the focus of our investigation   geom_point(     aes(color = Month_Type),     size = 2.5, alpha = 0.9,     show.legend = TRUE   ) +   # Custom colors for December vs other months   scale_color_manual(     values = c(\"December\" = \"#e74c3c\", \"Other Months\" = \"#3498db\"),     name = \"Month Type\"   ) +   # Custom colors for COVID-19 phase shading   scale_fill_manual(     values = c(       \"Prevention (No Local Cases)\" = \"#a5d6a7\",       \"Lockdowns & First Wave\" = \"#ef9a9a\",       \"Delta/Omicron Waves\" = \"#ffcc80\"     ),     name = \"COVID-19 Phase\"   ) +   scale_x_date(date_breaks = \"1 year\", date_labels = \"%Y\") +   scale_y_continuous(labels = scales::comma, limits = c(y_min, y_max)) +   labs(     title = \"Daily Average Deaths in Mongolia (2015-2024)\",     subtitle = \"Shaded = COVID-19 phases; Red = December\",     x = NULL,     y = \"Daily Average Deaths\",     caption = \"Source: NSO Mongolia | Normalized by days in month\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\", size = 14),     plot.subtitle = element_text(color = \"grey40\", size = 10),     plot.margin = margin(t = 5, r = 10, b = 5, l = 5),  # extra margin for legends     legend.position = \"bottom\",     legend.box = \"horizontal\",  # horizontal layout prevents cutoff     legend.text = element_text(size = 8),     legend.title = element_text(size = 9),     panel.grid.minor = element_blank()   ) +   guides(     color = guide_legend(order = 1, nrow = 2),     fill = guide_legend(order = 2, nrow = 2)   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"monthly-distribution-seasonality","dir":"Articles","previous_headings":"1. Monthly Death Patterns","what":"Monthly Distribution (Seasonality)","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Lay Interpretation: boxplot shows “typical” range daily average deaths month (normalized days month). Winter Highs: red boxes (Nov-Mar) generally higher blue boxes. December Peak: December consistently shows highest mortality intensity measured daily average deaths. January Surprise: January often shows lower daily average deaths December, suggesting “harvesting effect” December’s cold shock claims vulnerable first. Outliers: purple dots high boxes represent COVID-19 surge year (2021).","code":"# Calculate monthly statistics using daily averages (normalized) monthly_stats <- deaths_monthly |>   group_by(month, month_name) |>   summarise(     mean_daily = mean(daily_avg, na.rm = TRUE),     median_daily = median(daily_avg, na.rm = TRUE),     sd_daily = sd(daily_avg, na.rm = TRUE),     n = n(),     se = sd_daily / sqrt(n),     ci_lower = mean_daily - 1.96 * se,     ci_upper = mean_daily + 1.96 * se,     .groups = \"drop\"   ) |>   arrange(month)  # Seasonal distribution showing COVID outliers p <- deaths_monthly |>   mutate(month_name = factor(month_name, levels = month.abb)) |>   ggplot(aes(x = month_name, y = daily_avg)) +   # Jitter points FIRST so boxes appear on top for legibility   geom_jitter(     aes(color = ifelse(year == 2021, \"COVID-19 Surge (2021)\", \"Normal Year\")),     width = 0.2, alpha = 0.4, size = 1.5   ) +   # Boxplots show typical range by season   geom_boxplot(     aes(fill = Season),     alpha = 0.7, outlier.shape = NA  # hide outliers since jitter shows them   ) +   scale_fill_manual(     values = c(\"Winter (Nov-Mar)\" = \"#e74c3c\", \"Non-Winter\" = \"#3498db\"),     name = \"Season\"   ) +   scale_color_manual(     values = c(\"COVID-19 Surge (2021)\" = \"#8e44ad\", \"Normal Year\" = \"#7f8c8d\"),     name = \"Year Type\"   ) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Seasonal Distribution of Daily Average Deaths\",     subtitle = \"Normalized by days in month (2015-2024)\",     x = NULL,     y = \"Daily Average Deaths\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\", size = 14),     plot.subtitle = element_text(size = 10),     plot.margin = margin(t = 5, r = 10, b = 5, l = 5),     legend.position = \"top\",     legend.text = element_text(size = 8),     legend.title = element_text(size = 9)   ) +   guides(     fill = guide_legend(order = 1),     color = guide_legend(order = 2)   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"monthly-averages-with-confidence-intervals","dir":"Articles","previous_headings":"1. Monthly Death Patterns","what":"Monthly Averages with Confidence Intervals","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"precise, look average number deaths month “confidence intervals” (error bars). Note: Confidence intervals calculated assuming independence illustrative purposes. Time-series autocorrelation accounted , may result narrower intervals rigorous analysis produce.","code":"# Identify peak month (using daily averages) peak_month <- monthly_stats |> filter(mean_daily == max(mean_daily)) trough_month <- monthly_stats |> filter(mean_daily == min(mean_daily))  # Monthly means bar chart with confidence intervals p <- monthly_stats |>   mutate(     month_name = factor(month_name, levels = month.abb),     bar_type = ifelse(month_name == peak_month$month_name, \"Peak Month\", \"Other Months\")   ) |>   ggplot(aes(x = month_name, y = mean_daily)) +   geom_col(aes(fill = bar_type), alpha = 0.8) +   geom_errorbar(     aes(ymin = ci_lower, ymax = ci_upper),     width = 0.3, color = \"#2c3e50\"  # error bars show confidence intervals   ) +   geom_hline(     yintercept = mean(monthly_stats$mean_daily),     linetype = \"dashed\", color = \"grey50\"  # reference line for annual average   ) +   scale_fill_manual(     values = c(\"Other Months\" = \"#3498db\", \"Peak Month\" = \"#e74c3c\"),     guide = \"none\"  # legend not needed - peak month is obvious   ) +   scale_y_continuous(labels = scales::comma, expand = expansion(mult = c(0, 0.1))) +   labs(     title = \"Average Daily Deaths with 95% Confidence Intervals\",     subtitle = paste0(\"Peak month: \", peak_month$month_name,                       \" (\", round(peak_month$mean_daily, 1), \" deaths/day)\"),     x = NULL,     y = \"Mean Daily Deaths\",     caption = \"Dashed line = annual average; Normalized by days in month\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     plot.subtitle = element_text(color = \"grey40\")   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"heat-map-year-month","dir":"Articles","previous_headings":"","what":"2. Heat Map: Year × Month","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Interpretation: December Dominance: Contrary “entire winter peak” assumption, heatmap shows December (bottom row) month consistently “Red Zone” (high mortality relative year’s average). January February (top rows) largely neutral (white) even low (blue), reinforcing finding mortality intensity drops New Year. 2021 Delta Shock: “COVID Column” (2021) uniformly deadly. first half year remained near average; massive excess mortality occurred specifically September, October, November, visible dark red block lower portion column—coinciding Delta wave.","code":"# Create heat map data using daily averages (normalized) heatmap_data <- deaths_monthly |>   mutate(month_name = factor(month_name, levels = rev(month.abb))) |>   group_by(year) |>   mutate(     # Calculate z-score within each year for relative comparison     z_score = (daily_avg - mean(daily_avg)) / sd(daily_avg)   ) |>   ungroup()  # Heatmap showing year-by-month mortality patterns p <- heatmap_data |>   ggplot(aes(x = factor(year), y = month_name, fill = z_score)) +   geom_tile(color = \"white\", linewidth = 0.5) +   scale_fill_gradient2(     low = \"#3498db\", mid = \"white\", high = \"#e74c3c\",     midpoint = 0, name = \"Relative\\nIntensity\"  # z-score: positive = above average   ) +   labs(     title = \"Mortality Heat Map\",     subtitle = \"Red = Higher than yearly average | Blue = Lower\",     x = \"Year\",     y = NULL   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     axis.text.x = element_text(angle = 45, hjust = 1),     legend.position = \"bottom\",          # bottom legend gives more horizontal space     legend.title = element_text(size = 10),     legend.key.width = unit(1.5, \"cm\")   )  p  # print static ggplot"},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"seasonal-decomposition-stl","dir":"Articles","previous_headings":"3. Statistical Confirmation","what":"Seasonal Decomposition (STL)","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"rigorously separate trend, seasonality, noise mortality data, use STL (Seasonal Trend decomposition using Loess). method robust outliers like COVID-19 surge provides cleaner view underlying seasonal pattern.  Interpretation: Trend: Shows overall long-term pattern. Notice sharp spike 2021 (COVID-19 Delta wave) gradual increase time (population growth). Seasonal Pattern: clean, repeating annual cycle emerges. Deaths peak winter (Jan-Feb) trough summer (Jun-Aug). pattern consistent across years. Remainder: Random noise plus anomalies. large spikes 2021 represent COVID-19 mortality exceeded even elevated trend.","code":"# Convert to time series object using daily averages (normalized) ts_deaths <- ts(deaths_monthly$daily_avg, start = c(2015, 1), frequency = 12)  # Perform STL decomposition # s.window = \"periodic\" assumes seasonality is constant across years decomp <- stl(ts_deaths, s.window = \"periodic\", robust = TRUE)  # Extract components for plotting decomp_df <- data.frame(   date = deaths_monthly$date,   observed = as.numeric(ts_deaths),   trend = as.numeric(decomp$time.series[, \"trend\"]),   seasonal = as.numeric(decomp$time.series[, \"seasonal\"]),   remainder = as.numeric(decomp$time.series[, \"remainder\"]) ) |>   tidyr::pivot_longer(     cols = c(observed, trend, seasonal, remainder),     names_to = \"component\",     values_to = \"value\"   ) |>   mutate(     component = factor(component,                         levels = c(\"observed\", \"trend\", \"seasonal\", \"remainder\"),                        labels = c(\"Observed (Daily Avg)\", \"Trend\", \"Seasonal Pattern\", \"Remainder (Noise)\"))   )  # Plot decomposition p <- decomp_df |>   ggplot(aes(x = date, y = value)) +   geom_line(color = \"#2c3e50\", linewidth = 0.6) +   geom_hline(yintercept = 0, linetype = \"dashed\", color = \"grey60\", linewidth = 0.3) +   facet_wrap(~component, ncol = 1, scales = \"free_y\") +   scale_x_date(date_breaks = \"2 years\", date_labels = \"%Y\") +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"STL Decomposition of Daily Average Mortality\",     subtitle = \"Separating trend, seasonality, and COVID-19 anomalies\",     x = NULL,     y = \"Deaths\",     caption = \"Note: COVID-19 surge appears in both Trend and Remainder components\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     strip.text = element_text(face = \"bold\", size = 11),     panel.spacing = unit(0.5, \"lines\")   )  print(p)"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"seasonal-pattern-analysis","dir":"Articles","previous_headings":"3. Statistical Confirmation","what":"Seasonal Pattern Analysis","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Let’s examine extracted seasonal component closely:  Key Finding: STL decomposition confirms Dec highest seasonal mortality, approximately 4.4 deaths per day annual average due seasonality alone. winter months (December–February) form sustained high-mortality plateau.","code":"# Extract one complete seasonal cycle (12 months) seasonal_cycle <- data.frame(   month = 1:12,   month_name = factor(month.abb, levels = month.abb),   seasonal_effect = as.numeric(decomp$time.series[1:12, \"seasonal\"]) )  # Find peak and trough peak_seasonal <- seasonal_cycle |> filter(seasonal_effect == max(seasonal_effect)) trough_seasonal <- seasonal_cycle |> filter(seasonal_effect == min(seasonal_effect))  # Seasonal pattern bar chart showing above/below average by month p <- seasonal_cycle |>   ggplot(aes(x = month_name, y = seasonal_effect)) +   geom_col(aes(fill = ifelse(seasonal_effect > 0, \"Above Average\", \"Below Average\")),             alpha = 0.8) +   geom_hline(yintercept = 0, linetype = \"solid\", color = \"grey40\") +  # zero line   geom_text(     aes(label = round(seasonal_effect, 1),         vjust = ifelse(seasonal_effect > 0, -0.5, 1.5)),     size = 3   ) +  # inline labels   scale_fill_manual(     values = c(\"Above Average\" = \"#e74c3c\", \"Below Average\" = \"#3498db\"),     name = \"Seasonal Effect\"   ) +   scale_y_continuous(labels = function(x) round(x, 1)) +   labs(     title = \"Extracted Seasonal Pattern (Daily Average Deaths)\",     subtitle = paste0(\"Peak: \", peak_seasonal$month_name, \" (+\", round(peak_seasonal$seasonal_effect, 1),                        \" deaths/day) | Trough: \", trough_seasonal$month_name, \" (\", round(trough_seasonal$seasonal_effect, 1), \" deaths/day)\"),     x = NULL,     y = \"Daily deaths above/below average\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     plot.subtitle = element_text(color = \"grey40\"),     legend.position = \"bottom\"   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"harmonic-regression-results","dir":"Articles","previous_headings":"3. Statistical Confirmation","what":"Harmonic Regression Results","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"complementary approach, use harmonic regression mathematically model seasonal cycle controlling overall trend. Caveat: Harmonic regression fits symmetrical sine wave data. true seasonal pattern asymmetric (e.g., sharp winter spike gradual decline), model may shift estimated peak minimize overall residuals. Therefore, STL decomposition reliable identifying exact peak timing.","code":"# Fit harmonic regression with annual cycle (using daily averages) deaths_monthly <- deaths_monthly |>   mutate(     time_index = as.numeric(date - min(date)) / 365.25,     sin_annual = sin(2 * pi * month / 12),     cos_annual = cos(2 * pi * month / 12)   )  # Fit model on daily averages harmonic_model <- lm(daily_avg ~ time_index + sin_annual + cos_annual, data = deaths_monthly)  # Calculate amplitude and phase of seasonal component coef_sin <- coef(harmonic_model)[\"sin_annual\"] coef_cos <- coef(harmonic_model)[\"cos_annual\"] amplitude <- sqrt(coef_sin^2 + coef_cos^2) phase <- atan2(coef_sin, coef_cos) * 12 / (2 * pi) peak_month_harmonic <- if (phase < 0) phase + 12 else phase  # Store results for display harmonic_results <- list(   peak_month = month.name[round(peak_month_harmonic)],   amplitude = round(amplitude, 1),   r_squared = round(summary(harmonic_model)$r.squared * 100, 1) )"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"statistical-findings","dir":"Articles","previous_headings":"3. Statistical Confirmation","what":"Statistical Findings","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"harmonic regression model provides additional perspective Mongolia’s mortality seasonality: Methodological Note: Harmonic Model estimates October peak, may contradict observed December peak raw data. model artifact. harmonic method forces symmetrical sine wave onto data, whereas Mongolia’s mortality follows asymmetrical “sharp spike” pattern early winter. model attempts minimize overall error “pulling” estimated peak earlier average curve. STL Decomposition reliable indicator peak timing.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"cause-specific-analysis","dir":"Articles","previous_headings":"","what":"4. Cause-Specific Analysis","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"understand deaths peak winter, need examine causes. Note Data Availability: Monthly mortality data cause currently available public NSO API. therefore use: 1. Annual Data see long-term trends relative burden cause. 2. Monthly Case Data respiratory diseases proxy seasonal infection pressure.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"annual-trends-by-cause","dir":"Articles","previous_headings":"4. Cause-Specific Analysis","what":"Annual Trends by Cause","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Interpretation: Cardiovascular Disease (Blue Line): undisputed leading cause death, hovering around 6,000 deaths annually. dominance suggests seasonal spike total deaths likely driven cardiovascular stress extreme cold. Cancer (Red Line): Consistently second leading cause, showing slow, steady upward trend decade. Injuries (Purple Line): significant (3rd place), trend relatively flat. lack massive winter spike category argues theory New Year’s accidents primary driver December mortality peak. COVID-19 Impact: Note sharp rise “Respiratory” categories 2021.","code":"# Fetch deaths by cause (annual data) cause_tbl <- \"DT_NSO_2100_027V1\" indicators <- nso_dim_values(cause_tbl, \"Indicator\", labels = \"en\") years <- nso_dim_values(cause_tbl, \"Year\", labels = \"en\")  cause_deaths <- nso_data(   tbl_id = cause_tbl,   selections = list(     \"Indicator\" = indicators$code,     \"Region\" = \"0\",     \"Year\" = years$code   ),   labels = \"en\" ) |>   filter(!is.na(value)) |>   mutate(     year = as.integer(Year_en),     # Simplify cause names     Cause = case_when(       grepl(\"Injury\", Indicator_en) ~ \"Injuries & Poisoning\",       grepl(\"cardiovascular\", Indicator_en) ~ \"Cardiovascular\",       grepl(\"respiratory\", Indicator_en) ~ \"Respiratory\",       grepl(\"digestive\", Indicator_en) ~ \"Digestive\",       grepl(\"Cancer\", Indicator_en) ~ \"Cancer\",       TRUE ~ Indicator_en     )   ) |>   filter(Cause != \"Deaths\") # Exclude total # Multi-line trend plot by cause of death p <- cause_deaths |>   filter(year >= 2015) |>   ggplot(aes(x = year, y = value, color = Cause)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_color_brewer(palette = \"Set1\") +  # distinct colors for each cause   scale_y_continuous(labels = scales::comma) +   scale_x_continuous(breaks = 2015:2024) +   labs(     title = \"Annual Deaths by Leading Cause (2015-2024)\",     subtitle = \"Cardiovascular disease is consistently the highest killer\",     x = NULL,     y = \"Number of Deaths per Year\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     legend.position = \"right\"   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"respiratory-infections-a-seasonal-proxy","dir":"Articles","previous_headings":"4. Cause-Specific Analysis","what":"Respiratory Infections: A Seasonal Proxy","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Since see monthly respiratory deaths, look monthly respiratory cases (e.g., flu, pneumonia) see seasonal pressure.  Interpretation: Complex Seasonality: Respiratory infections follow simple winter curve. see high case counts December January, followed notable dip February, resurgence May (spring peak). Mortality Mismatch: December respiratory spike correlates December mortality peak, May respiratory spike trigger corresponding mortality spike (deaths average May). suggests respiratory illness contributes winter deaths, combination infection plus extreme cold (Dec/Jan) lethal. Infection alone (warmer May) appears less fatal.","code":"# Fetch monthly respiratory disease cases comm_tbl <- \"DT_NSO_2100_035V1\" # Code 12 is Respiratory infectious diseases resp_cases <- nso_data(   tbl_id = comm_tbl,   selections = list(     \"Indicators\" = \"12\",      \"Month\" = months_filtered$code   ),   labels = \"en\" ) |>   mutate(     date = as.Date(paste0(Month_en, \"-01\")),     month = month(date, label = TRUE)   ) |>   filter(!is.na(value))  # Respiratory cases boxplot by month - proxy for seasonal infection pressure p <- resp_cases |>   ggplot(aes(x = month, y = value)) +   geom_boxplot(fill = \"#e74c3c\", alpha = 0.6) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Seasonality of Respiratory Infections (Cases)\",     subtitle = \"Monthly distribution of reported cases (2015-2024)\",     x = NULL,     y = \"Reported Cases\"   ) +   theme_minimal(base_size = 12) +   theme(plot.title = element_text(face = \"bold\"))  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"regional-comparison","dir":"Articles","previous_headings":"","what":"5. Regional Comparison","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"","code":"# Fetch deaths by region regions_meta <- nso_dim_values(death_tbl, \"Region\", labels = \"en\")  # Get all regions' monthly data regional_deaths <- nso_data(   tbl_id = death_tbl,   selections = list(     \"Region\" = regions_meta$code,     \"Month\" = months_filtered$code   ),   labels = \"en\" ) |>   mutate(     date = as.Date(paste0(Month_en, \"-01\")),     year = year(date),     month = month(date),     month_name = month(date, label = TRUE, abbr = TRUE)   ) |>   filter(!is.na(value), year >= 2015, year <= 2024)  # Classify as UB vs Rural regional_deaths <- regional_deaths |>   mutate(     area_type = case_when(       Region_en == \"Whole country\" ~ \"National\",       grepl(\"Ulaanbaatar\", Region_en) ~ \"Ulaanbaatar\",       TRUE ~ \"Rural (Aimags)\"     )   ) |>   filter(area_type != \"National\") # Aggregate by area type and month area_monthly <- regional_deaths |>   group_by(area_type, month, month_name) |>   summarise(     mean_deaths = mean(value, na.rm = TRUE),     .groups = \"drop\"   )  # Normalize to percentage of annual mean for comparison area_monthly <- area_monthly |>   group_by(area_type) |>   mutate(     annual_mean = mean(mean_deaths),     pct_of_mean = (mean_deaths / annual_mean - 1) * 100   ) |>   ungroup()  # Urban vs Rural seasonality comparison p <- area_monthly |>   mutate(month_name = factor(month_name, levels = month.abb)) |>   ggplot(aes(x = month_name, y = pct_of_mean, color = area_type, group = area_type)) +   geom_hline(yintercept = 0, linetype = \"dashed\", color = \"grey50\") +  # baseline reference   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   geom_text(aes(label = round(pct_of_mean, 0)), vjust = -1, size = 2.5) +  # inline labels   scale_color_manual(     values = c(\"Ulaanbaatar\" = \"#e74c3c\", \"Rural (Aimags)\" = \"#3498db\"),     name = NULL   ) +   scale_y_continuous(expand = expansion(mult = c(0.1, 0.2))) +   labs(     title = \"Urban vs Rural Seasonality\",     subtitle = \"Both follow the same winter pattern\",     x = NULL,     y = \"% Deviation from Annual Average\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     legend.position = \"top\"   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"hospital-vs-total-deaths","dir":"Articles","previous_headings":"","what":"6. Hospital vs Total Deaths","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"hospital deaths show different pattern? can reveal healthcare access issues.","code":"# Fetch hospital deaths hospital_tbl <- \"DT_NSO_2100_027V3\" hospital_months <- nso_dim_values(hospital_tbl, \"Month\", labels = \"en\")  # Filter to 2015-2024 hospital_months_filtered <- hospital_months |>   filter(grepl(\"^(2015|2016|2017|2018|2019|2020|2021|2022|2023|2024)-\", label_en))  hospital_deaths <- nso_data(   tbl_id = hospital_tbl,   selections = list(     \"Region\" = \"0\",     \"Month\" = hospital_months_filtered$code   ),   labels = \"en\" ) |>   mutate(     date = as.Date(paste0(Month_en, \"-01\")),     year = year(date),     month = month(date),     month_name = month(date, label = TRUE, abbr = TRUE),     type = \"Hospital Deaths\"   ) |>   filter(!is.na(value), year >= 2015, year <= 2024)  # Combine with total deaths comparison_data <- bind_rows(   deaths_monthly |> mutate(type = \"All Deaths\") |> select(date, year, month, month_name, value, type),   hospital_deaths |> select(date, year, month, month_name, value, type) ) # Calculate monthly averages by type type_monthly <- comparison_data |>   group_by(type, month, month_name) |>   summarise(mean_deaths = mean(value, na.rm = TRUE), .groups = \"drop\") |>   group_by(type) |>   mutate(     annual_mean = mean(mean_deaths),     pct_of_mean = (mean_deaths / annual_mean - 1) * 100   ) |>   ungroup()  # Hospital vs All Deaths seasonality comparison p <- type_monthly |>   mutate(month_name = factor(month_name, levels = month.abb)) |>   ggplot(aes(x = month_name, y = pct_of_mean, color = type, group = type)) +   geom_hline(yintercept = 0, linetype = \"dashed\", color = \"grey50\") +  # baseline   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   geom_text(aes(label = round(pct_of_mean, 0)), vjust = -1, size = 2.5) +  # inline labels   scale_color_manual(     values = c(\"All Deaths\" = \"#2c3e50\", \"Hospital Deaths\" = \"#e74c3c\"),     name = NULL   ) +   scale_y_continuous(expand = expansion(mult = c(0.1, 0.2))) +   labs(     title = \"Hospital vs All Deaths Seasonality\",     subtitle = \"Percentage deviation from annual mean\",     x = NULL,     y = \"% Deviation from Annual Average\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     legend.position = \"top\"   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"detailed-summary-statistics","dir":"Articles","previous_headings":"","what":"7. Detailed Summary Statistics","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"","code":"# Calculate summary statistics using daily averages peak_analysis <- monthly_stats |>   mutate(     rank = rank(-mean_daily),     is_winter = month %in% c(11, 12, 1, 2, 3)   )  winter_avg <- peak_analysis |> filter(is_winter) |> summarise(mean = mean(mean_daily)) |> pull() summer_avg <- peak_analysis |> filter(!is_winter) |> summarise(mean = mean(mean_daily)) |> pull() winter_excess <- ((winter_avg / summer_avg) - 1) * 100  # Store results for inline display summary_results <- list(   overall_avg = round(mean(monthly_stats$mean_daily), 1),   peak_month_name = as.character(peak_month$month_name),   peak_deaths = round(peak_month$mean_daily, 1),   trough_month_name = as.character(trough_month$month_name),   trough_deaths = round(trough_month$mean_daily, 1),   winter_excess = round(winter_excess, 1) )"},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"key-statistics","dir":"Articles","previous_headings":"7. Detailed Summary Statistics","what":"Key Statistics","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Daily average deaths -0.2% higher winter months (Nov-Mar) compared non-winter months.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"conclusions","dir":"Articles","previous_headings":"","what":"8. Conclusions","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Based evidence, can address social media claim: Yes, data supports . Unlike raw counts (January’s 31 days inflate ranking), Daily Average analysis confirms mortality intensity peaks December (50.4 deaths/day). social media claim statistically accurate regarding timing. observe surprising pattern: mortality spikes sharply December temperatures plummet, followed dip January (44.8 deaths/day—often annual trough daily averages). contradicts assumption entire winter sustained plateau; rather, onset extreme winter appears deadliest phase. consistent “harvesting effect” December’s cold shock claims vulnerable individuals first. determine definitively. NSO public API provides annual death counts cause—monthly breakdowns. Without monthly cause--death data, confirm whether December spike driven cardiovascular stress, respiratory illness, injuries, combination. injuries appear smaller fraction annual deaths compared cardiovascular disease, lack seasonal granularity rule significant holiday-related injury spike December specifically. pandemic disrupted natural patterns. Lockdowns 2020 actually suppressed mortality, 2021 waves caused historic highs. highlights infectious diseases (response ) major drivers death rates.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"data-limitations","dir":"Articles","previous_headings":"8. Conclusions","what":"Data Limitations","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"Important: analysis constrained data availability. NSO public API provides: - ✅ Monthly total deaths (analyzed) - ✅ Annual deaths cause (shows cardiovascular dominance yearly) - ❌ Monthly deaths cause (available) definitively answer December mortality peaks, researchers need access monthly cause--death data, may require direct collaboration NSO access restricted datasets. Final Verdict: social media claim “highest deaths occurring December” supported data properly normalized days month. However, underlying cause remains uncertain without monthly cause-specific mortality data. correlation extreme cold onset suggestive conclusive.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/mortality-analysis.html","id":"appendix-reproducibility","dir":"Articles","previous_headings":"","what":"Appendix: Reproducibility","title":"Mortality Seasonality in Mongolia: An Evidence-Based Analysis","text":"","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] scales_1.4.0      lubridate_1.9.4   ggplot2_4.0.1     tidyr_1.3.2       #> [5] dplyr_1.1.4       mongolstats_0.1.1 #>  #> loaded via a namespace (and not attached): #>  [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.2     tidyselect_1.2.1   #>  [5] jquerylib_0.1.4    systemfonts_1.3.1  textshaping_1.0.4  yaml_2.3.12        #>  [9] fastmap_1.2.0      R6_2.6.1           labeling_0.4.3     generics_0.1.4     #> [13] curl_7.0.0         httr2_1.2.2        knitr_1.51         htmlwidgets_1.6.4  #> [17] tibble_3.3.1       desc_1.4.3         RColorBrewer_1.1-3 bslib_0.9.0        #> [21] pillar_1.11.1      rlang_1.1.7        cachem_1.1.0       xfun_0.56          #> [25] S7_0.2.1           fs_1.6.6           sass_0.4.10        otel_0.2.0         #> [29] timechange_0.3.0   cli_3.6.5          withr_3.0.2        pkgdown_2.2.0      #> [33] magrittr_2.0.4     digest_0.6.39      grid_4.5.2         rappdirs_0.3.4     #> [37] lifecycle_1.0.5    vctrs_0.7.1        evaluate_1.0.5     glue_1.8.0         #> [41] farver_2.1.2       ragg_1.5.0         rmarkdown_2.30     purrr_1.2.1        #> [45] tools_4.5.2        pkgconfig_2.0.3    htmltools_0.5.9"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Ulaanbaatar District-Level Analysis","text":"Ulaanbaatar, capital Mongolia, rapidly urbanizing metropolis houses nearly half nation’s population. concentration creates distinct epidemiological environmental profiles compared rest country. vignette performs comprehensive, biostatistical analysis Ulaanbaatar’s 9 districts (soums), leveraging “soum” datasets available NSO API. explore demographic shifts, socioeconomic disparities, public health outcomes, culminating multivariate analysis district-level indicators.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"methodology-dynamic-data-retrieval","dir":"Articles","previous_headings":"","what":"Methodology: Dynamic Data Retrieval","title":"Ulaanbaatar District-Level Analysis","text":"analyze UB districts specifically, employ spatial filtering approach. retrieve data soums filter geometrically contained within Ulaanbaatar capital region.","code":"# 1. Define UB District Names (Map vs Data standard) # Map names (transliterated) -> Data names (English standard) ub_name_map <- c(   \"Baganuur\" = \"Baganuur\",   \"Bagaxangai\" = \"Bagakhangai\",   \"Bayangol\" = \"Bayangol\",   \"Bayanzu'rx\" = \"Bayanzurkh\",   \"Chingeltei\" = \"Chingeltei\",   \"Nalaix\" = \"Nalaikh\",   \"Songinoxairxan\" = \"Songinokhairkhan\",   \"Su'xbaatar\" = \"Sukhbaatar\",   \"Xan-Uul\" = \"Khan-Uul\" )  # 2. Get Spatial Boundaries # We use a cached version or fetch if needed get_ub_shapes <- function() {   # Get all soums and UB boundary   all_soums <- mn_boundaries(level = \"ADM2\")   aimags <- mn_boundaries(level = \"ADM1\")   ub_boundary <- aimags |> filter(shapeName == \"Ulaanbaatar\")    # Spatial filter (turning off S2 for robustness)   sf_use_s2(FALSE)   ub_districts <- all_soums |>     filter(shapeName %in% names(ub_name_map)) |>     st_filter(ub_boundary)    # Add standardized name column   ub_districts |>     mutate(District = ub_name_map[shapeName]) }  ub_shapes <- get_ub_shapes()  # 3. Helper to fetch and filter NSO data for UB get_ub_data <- function(tbl_id, ...) {   # Fetch data for all regions   df <- nso_data(tbl_id, labels = \"en\", ...)    # Filter for UB districts using the \"511\" prefix code pattern   df |>     filter(grepl(\"^511\", Region)) |>     mutate(District = trimws(Region_en)) |> # Standardize name     filter(District %in% ub_name_map) |>     select(-Region_en, -Region) # Keep only standardized District }"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"demographic-profile","dir":"Articles","previous_headings":"","what":"1. Demographic Profile","title":"Ulaanbaatar District-Level Analysis","text":"Understanding population distribution fundamental public health analysis.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"population-density","dir":"Articles","previous_headings":"1. Demographic Profile","what":"Population Density","title":"Ulaanbaatar District-Level Analysis","text":"calculate population density using recent population data district land areas.  Interpretation: central districts (Bayangol, Chingeltei, Sukhbaatar) exhibit extremely high density, exurban districts (Baganuur, Bagakhangai) remain sparsely populated. density gradient critical factor infectious disease transmission environmental exposure.","code":"# Fetch Population Data (DT_NSO_0300_002V4) pop_data <- get_ub_data(\"DT_NSO_0300_002V4\",   selections = list(Year = \"2024\") )  # Join population data with district boundaries ub_pop_map <- ub_shapes |>   left_join(pop_data, by = \"District\") |>   # Project to UTM Zone 48N for accurate area calculation in meters (not degrees)   st_transform(32648) |>   mutate(     Area_km2 = as.numeric(st_area(geometry)) / 1e6, # Convert m² to km²     Density = value / Area_km2 # People per km²   ) |>   st_transform(4326) # Back to WGS84 for plotting  # Map population density p_dens <- ggplot(ub_pop_map) +   geom_sf(aes(fill = Density), color = \"white\", size = 0.2) +   scale_fill_viridis_c(     option = \"rocket\",     direction = -1,     trans = \"log10\",  # log scale because densities span 4 orders of magnitude     name = \"Population Density\\n(People/km²)\",     labels = scales::comma   ) +   labs(     title = \"Population Density by District (2024)\",     subtitle = \"People per square kilometer (Logarithmic Scale)\",     caption = \"Source: NSO Mongolia (DT_NSO_0300_002V4)\\nNote: Log scale used to visualize wide range of densities.\"   ) +   theme_void() +   theme(     plot.title = element_text(face = \"bold\", size = 14),     plot.subtitle = element_text(color = \"grey40\"),     legend.position = \"bottom\",          # bottom legend maximizes map width     legend.key.width = unit(1.5, \"cm\")   )  p_dens  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"population-growth-trends","dir":"Articles","previous_headings":"1. Demographic Profile","what":"Population Growth Trends","title":"Ulaanbaatar District-Level Analysis","text":"Analyzing growth rates helps identify rapidly expanding areas may strain local health infrastructure.  rapid growth Songinokhairkhan Bayanzurkh highlights role primary absorption points rural--urban migration, often associated expansion unplanned “ger districts”.","code":"# Fetch historical population data (last 10 years) pop_trend <- get_ub_data(\"DT_NSO_0300_002V4\",   selections = list(Year = as.character(2013:2024)) )  p_trend <- pop_trend |>   mutate(Year = as.numeric(Year_en)) |>   arrange(Year) |>   ggplot(aes(x = Year, y = value, color = District, group = District)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   scale_x_continuous(breaks = 2013:2024) +   labs(     title = \"Population Growth Trends (2013-2024)\",     subtitle = \"Annual resident population\",     y = \"Population\", x = NULL, color = \"District\",     caption = \"Source: NSO Mongolia\"   ) +   theme_minimal() +   theme(     plot.title = element_text(face = \"bold\"),     legend.position = \"bottom\"   )  p_trend  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"socioeconomic-indicators","dir":"Articles","previous_headings":"","what":"2. Socioeconomic Indicators","title":"Ulaanbaatar District-Level Analysis","text":"Direct socioeconomic data soum limited. However, can use educational infrastructure load proxy public service capacity development pressure.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"educational-load-students-per-school","dir":"Articles","previous_headings":"2. Socioeconomic Indicators","what":"Educational Load (Students per School)","title":"Ulaanbaatar District-Level Analysis","text":"compare number students number schools estimate overcrowding.  Districts higher ratios may indicate infrastructure lags relative population growth, often correlating lower socioeconomic status higher vulnerability.","code":"# Fetch Schools (DT_NSO_2001_002V2) and Students (DT_NSO_2002_057V2) schools <- get_ub_data(\"DT_NSO_2001_002V2\", selections = list(Year = \"2024\")) |>   rename(Schools = value) students <- get_ub_data(\"DT_NSO_2002_057V2\", selections = list(Year = \"2024\")) |>   rename(Students = value)  edu_load <- left_join(schools, students, by = c(\"District\", \"Year\")) |>   mutate(Students_Per_School = Students / Schools)  p_edu <- ggplot(edu_load, aes(   x = reorder(District, Students_Per_School),   y = Students_Per_School, fill = District )) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = round(Students_Per_School)), hjust = -0.1, size = 3) +  # inline labels replace tooltips   coord_flip() +   scale_y_continuous(labels = scales::comma, expand = expansion(mult = c(0, 0.15))) +   labs(     title = \"Educational Load: Students per School (2024)\",     subtitle = \"Average number of students per general educational school\",     y = \"Students per School\", x = NULL,     caption = \"Source: NSO Mongolia\"   ) +   theme_minimal() +   theme(     plot.title = element_text(face = \"bold\"),     panel.grid.major.y = element_blank()  # horizontal gridlines clutter bar charts   )  p_edu  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"public-health-overview","dir":"Articles","previous_headings":"","what":"3. Public Health Overview","title":"Ulaanbaatar District-Level Analysis","text":"Urban health multidimensional. focus three key indicators reflect environmental pressures health system capacity: respiratory mortality, infant outcomes, infectious disease.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"respiratory-mortality","dir":"Articles","previous_headings":"3. Public Health Overview","what":"Respiratory Mortality","title":"Ulaanbaatar District-Level Analysis","text":"Respiratory diseases leading cause death UB. calculate Crude Death Rate (CDR) per 10,000 population.","code":"# 1. Get Respiratory Deaths (Code found in discovery phase) # We need to find the code dynamically or use known one. # For vignette stability, we'll search for it. resp_meta <- nso_dim_values(\"DT_NSO_2100_027V1\", \"Indicator\", labels = \"en\") resp_code <- resp_meta |>   filter(grepl(\"respiratory\", label_en, ignore.case = TRUE)) |>   pull(code)  resp_deaths <- get_ub_data(\"DT_NSO_2100_027V1\",   selections = list(Indicator = resp_code, Year = \"2024\") ) |>   rename(Deaths = value)  # 2. Calculate Rates using Population data from Demographics section health_metrics <- resp_deaths |>   left_join(pop_data, by = c(\"District\")) |>   rename(Population = value) |>   mutate(Resp_Death_Rate = (Deaths / Population) * 10000)  p_resp <- ggplot(health_metrics, aes(   x = reorder(District, Resp_Death_Rate),   y = Resp_Death_Rate, fill = Resp_Death_Rate )) +   geom_col() +   geom_text(aes(label = round(Resp_Death_Rate, 1)), hjust = -0.1, size = 3) +  # inline labels   scale_fill_viridis_c(option = \"inferno\", direction = -1, name = \"Rate\") +   coord_flip() +   scale_y_continuous(expand = expansion(mult = c(0, 0.15))) +  # room for labels   labs(     title = \"Respiratory Mortality Rate (2024)\",     subtitle = \"Deaths per 10,000 population\",     y = \"Rate per 10,000\", x = NULL,     caption = \"Source: NSO Mongolia\"   ) +   theme_minimal() +   theme(     plot.title = element_text(face = \"bold\"),     legend.position = \"none\"  # color already encoded in bar height   )  p_resp  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"infant-mortality-rate-imr","dir":"Articles","previous_headings":"3. Public Health Overview","what":"Infant Mortality Rate (IMR)","title":"Ulaanbaatar District-Level Analysis","text":"IMR sensitive indicator maternal health primary care access.","code":"# Fetch IMR directly (DT_NSO_2100_015V2 is Rate per 1000) # Using 2023 as 2024 data appears incomplete for some districts imr_data <- get_ub_data(\"DT_NSO_2100_015V2\",   selections = list(Year = \"2023\") )  p_imr <- ggplot(imr_data, aes(x = reorder(District, value), y = value)) +   geom_segment(aes(xend = District, yend = 0), color = \"grey\") +  # lollipop stem   geom_point(size = 4, color = \"steelblue\") +  # lollipop head   geom_text(aes(label = round(value, 1)), hjust = -0.3, size = 3) +  # inline labels   coord_flip() +   scale_y_continuous(expand = expansion(mult = c(0, 0.15))) +   labs(     title = \"Infant Mortality Rate (2023)\",     subtitle = \"Deaths per 1,000 live births\",     y = \"IMR (per 1,000)\", x = NULL,     caption = \"Source: NSO Mongolia\"   ) +   theme_minimal() +   theme(     plot.title = element_text(face = \"bold\"),     panel.grid.major.y = element_blank()   )  p_imr  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"multivariate-analysis","dir":"Articles","previous_headings":"","what":"4. Multivariate Analysis","title":"Ulaanbaatar District-Level Analysis","text":"understand interplay factors, examine correlations population density, educational load, health outcomes.","code":"# Combine all metrics into one analytical dataset # We use inner_join to ensure we only have districts with all data analysis_df <- health_metrics |>   select(District, Population, Resp_Death_Rate) |>   left_join(imr_data |> select(District, IMR = value), by = \"District\") |>   left_join(edu_load |> select(District, Students_Per_School), by = \"District\") |>   left_join(ub_pop_map |> st_drop_geometry() |> select(District, Density), by = \"District\")  # Correlation Matrix (guard against empty or all-NA data) cor_input <- analysis_df |>   select(Density,     `Students/School` = Students_Per_School,     `Resp. Rate` = Resp_Death_Rate, IMR   ) |>   tidyr::drop_na()  if (nrow(cor_input) < 2) {   cor_mat <- matrix(NA_real_, nrow = 4, ncol = 4, dimnames = list(     c(\"Density\", \"Students/School\", \"Resp. Rate\", \"IMR\"),     c(\"Density\", \"Students/School\", \"Resp. Rate\", \"IMR\")   )) } else {   cor_mat <- cor_input |> cor() }  # Reshape for ggplot cor_long <- as.data.frame(cor_mat) |>   mutate(Var1 = rownames(cor_mat)) |>   pivot_longer(-Var1, names_to = \"Var2\", values_to = \"Correlation\") |>   filter(Var1 != Var2) # Remove diagonal  p_cor <- ggplot(cor_long, aes(x = Var1, y = Var2, fill = Correlation)) +   geom_tile(color = \"white\") +   scale_fill_gradient2(     low = \"blue\", high = \"red\", mid = \"white\",     midpoint = 0, limit = c(-1, 1)   ) +   geom_text(aes(     label = round(Correlation, 2),     color = ifelse(abs(Correlation) > 0.5, \"white\", \"black\")  # contrast for readability   )) +   scale_color_identity() +   labs(     title = \"Correlation of District Indicators\",     subtitle = \"Pearson correlation coefficients\",     x = NULL, y = NULL   ) +   theme_minimal() +   theme(     axis.text.x = element_text(angle = 45, hjust = 1),     plot.title = element_text(face = \"bold\")   )  p_cor  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"key-insights","dir":"Articles","previous_headings":"4. Multivariate Analysis","what":"Key Insights","title":"Ulaanbaatar District-Level Analysis","text":"Density & Infant Mortality: strong positive correlation (0.85) population density Infant Mortality Rate (IMR). suggests denser districts, often include crowded ger areas limited infrastructure, face significantly higher risks infant health. Respiratory Health: Surprisingly, respiratory mortality shows weak negative correlation density (-0.14) correlation IMR (0.05). might indicate respiratory issues widespread across districts regardless density (due city-wide pollution) mortality data captures severe outcomes, masking broader morbidity trends. Infrastructure Load: student-per-school ratio shows weak moderate negative correlations indicators, suggesting may primary driver observed health disparities specific dataset.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"air-quality-monitoring-network","dir":"Articles","previous_headings":"","what":"4. Air Quality Monitoring Network","title":"Ulaanbaatar District-Level Analysis","text":"Ulaanbaatar’s air quality monitoring network consists 18 stations distributed across districts. Understanding spatial distribution critical interpreting pollution exposure patterns.","code":""},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"station-to-district-mapping","dir":"Articles","previous_headings":"4. Air Quality Monitoring Network","what":"Station-to-District Mapping","title":"Ulaanbaatar District-Level Analysis","text":"Air Quality Monitoring Stations District Bayanzurkh highest station density (5 stations), reflecting large area population. Chingeltei Khan-Uul 2-3 stations , Bayangol, Sukhbaatar, Songinokhairkhan 2-3 stations. distribution provides reasonable spatial coverage across capital, though peripheral ger districts may limited monitoring.","code":"# Define station-to-district mapping with accurate coordinates # Sources: WAQI API (api.waqi.info) and user-provided coordinates ub_aq_stations <- tribble(   ~Station, ~District, ~Latitude, ~Longitude, ~Source,   \"Misheel-Expo center\", \"Khan-Uul\", 47.89428, 106.8825, \"WAQI\",   \"West crossroad\", \"Bayangol\", 47.91576, 106.8940, \"WAQI\",   \"1st micro district\", \"Songinokhairkhan\", 47.91798, 106.8481, \"WAQI\",   \"13th micro district\", \"Bayanzurkh\", 47.91761, 106.9374, \"WAQI\",   \"32nd Toirog\", \"Sukhbaatar\", 47.939333, 106.914333, \"User\",   \"Ofitseruudiin ordon\", \"Bayanzurkh\", 47.916611, 106.972556, \"User\",   \"Kharkhorin market\", \"Songinokhairkhan\", 47.910583, 106.837111, \"User\",   \"Urgakh naran micro district\", \"Bayanzurkh\", 47.873778, 107.115028, \"User\",   \"Dambdarjaa\", \"Sukhbaatar\", 47.988250, 106.951167, \"User\",   \"Khailaast\", \"Chingeltei\", 47.963528, 106.893889, \"User\",   \"Tolgoit\", \"Songinokhairkhan\", 47.920278, 106.799250, \"User\",   \"Zuragt\", \"Chingeltei\", 47.92973, 106.8886, \"WAQI\",   \"Amgalan\", \"Bayanzurkh\", 47.906250, 107.016556, \"User\",   \"Nisekh\", \"Khan-Uul\", 47.86394, 106.7791, \"WAQI\",   \"Tavan buudal\", \"Sukhbaatar\", 47.954500, 106.914833, \"User\",   \"Bayankhoshuu\", \"Songinokhairkhan\", 47.945528, 106.822917, \"User\",   \"Sharkhad\", \"Bayanzurkh\", 47.93375, 107.0103, \"WAQI\",   \"100 ail\", \"Sukhbaatar\", 47.93291, 106.9214, \"WAQI\" )  # Convert to sf object ub_stations_sf <- ub_aq_stations |>   st_as_sf(coords = c(\"Longitude\", \"Latitude\"), crs = 4326) |>   st_transform(32648)  # Station count by district station_count <- ub_aq_stations |>   count(District, name = \"Stations\") |>   arrange(desc(Stations))  knitr::kable(station_count, caption = \"Air Quality Monitoring Stations by District\")"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"spatial-distribution-map","dir":"Articles","previous_headings":"4. Air Quality Monitoring Network","what":"Spatial Distribution Map","title":"Ulaanbaatar District-Level Analysis","text":"","code":"# Create map with district boundaries and station locations p_map <- ggplot() +   geom_sf(data = ub_shapes, fill = \"grey90\", color = \"white\", linewidth = 0.5) +   geom_sf(data = ub_stations_sf, color = \"#e74c3c\", size = 3, alpha = 0.8) +  # red dots for stations   geom_sf_text(data = ub_shapes, aes(label = District), size = 2.5, color = \"grey40\") +  # district labels   labs(     title = \"Air Quality Monitoring Network in Ulaanbaatar\",     subtitle = \"18 stations distributed across 6 districts\",     caption = \"Red points = monitoring stations\"   ) +   theme_void() +   theme(     plot.title = element_text(face = \"bold\", size = 14),     plot.subtitle = element_text(size = 11),     plot.caption = element_text(hjust = 0, size = 9)   )  p_map  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"station-coverage-analysis","dir":"Articles","previous_headings":"4. Air Quality Monitoring Network","what":"Station Coverage Analysis","title":"Ulaanbaatar District-Level Analysis","text":"Coverage Disparities: Districts like Bayanzurkh Songinokhairkhan (despite multiple stations) still serve large populations relative station count. suggests potential spatial gaps monitoring coverage, particularly sprawling ger districts pollution exposure may highest monitoring sparse.","code":"# Join station counts with population data for coverage analysis station_coverage <- station_count |>   left_join(pop_data |> select(District, Population = value), by = \"District\") |>   mutate(     Pop_per_Station = Population / Stations,     Coverage_Score = case_when(       Pop_per_Station < 100000 ~ \"High Coverage\",       Pop_per_Station < 150000 ~ \"Moderate Coverage\",       TRUE ~ \"Low Coverage\"     )   )  p_coverage <- ggplot(   station_coverage,   aes(     x = reorder(District, Pop_per_Station),     y = Pop_per_Station / 1000,     fill = Coverage_Score   ) ) +   geom_col() +   geom_text(aes(label = scales::comma(Pop_per_Station)), hjust = -0.1, size = 3) +  # inline labels   coord_flip() +   scale_fill_manual(values = c(     \"High Coverage\" = \"#27ae60\",     # green = good     \"Moderate Coverage\" = \"#f39c12\", # yellow = caution     \"Low Coverage\" = \"#e74c3c\"       # red = concern   )) +   scale_y_continuous(expand = expansion(mult = c(0, 0.2))) +   labs(     title = \"Air Quality Monitoring Coverage by District\",     subtitle = \"Population per monitoring station (thousands)\",     x = NULL,     y = \"Population per Station (thousands)\",     fill = \"Coverage Level\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\"),     legend.position = \"bottom\",     panel.grid.major.y = element_blank()   )  p_coverage  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/articles/ub-health-environment.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Ulaanbaatar District-Level Analysis","text":"analysis demonstrates Ulaanbaatar monolith. Significant disparities exist central core expanding ger districts. utilizing mongolstats package access granular “soum” data, researchers can uncover local nuances inform targeted public health interventions.","code":""},{"path":"https://temuulene.github.io/mongolstats/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Temuulen Enebish. Author, maintainer.","code":""},{"path":"https://temuulene.github.io/mongolstats/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Enebish T (2026). Mongolian 'NSO' 'PXWeb' Data Boundaries (Tidy Client). R package version 0.1.1, https://temuulene.github.io/mongolstats/.","code":"@Manual{,   title = {Mongolian 'NSO' 'PXWeb' Data and Boundaries (Tidy Client)},   author = {Temuulen Enebish},   year = {2026},   note = {R package version 0.1.1},   url = {https://temuulene.github.io/mongolstats/}, }"},{"path":"https://temuulene.github.io/mongolstats/index.html","id":"mongolstats-","dir":"","previous_headings":"","what":"mongolstats","title":"mongolstats","text":"mongolstats gateway National Statistics Office Mongolia (NSO). Access official data, analyze economic trends, map regional statistics—within R.","code":""},{"path":"https://temuulene.github.io/mongolstats/index.html","id":"why-mongolstats","dir":"","previous_headings":"","what":"Why mongolstats?","title":"mongolstats","text":"Tidy Data: Analysis-ready tibble format compatible dplyr ggplot2. Mapping Ready: Built-administrative boundaries effortless geospatial analysis. Reliable: Smart caching robust error handling smooth workflows.","code":""},{"path":"https://temuulene.github.io/mongolstats/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"mongolstats","text":"can install development version mongolstats GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"temuulene/mongolstats\")"},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/index.html","id":"id_1-the-economic-pulse-gdp-trends","dir":"","previous_headings":"Quick Start","what":"1. The Economic Pulse: GDP Trends","title":"mongolstats","text":"Visualize Mongolia’s economic growth seconds.","code":"library(mongolstats) library(dplyr) library(ggplot2)  # Set language to English nso_options(mongolstats.lang = \"en\")  # Fetch GDP data - using labels for clarity gdp <- nso_data(   tbl_id = \"DT_NSO_0500_001V1\",   selections = list(     \"Indicator\" = \"GDP, at current prices\",     \"Economic activity\" = \"Total\",     \"Year\" = c(       \"2010\", \"2011\", \"2012\", \"2013\", \"2014\",       \"2015\", \"2016\", \"2017\", \"2018\", \"2019\",       \"2020\", \"2021\", \"2022\", \"2023\", \"2024\"     )   ),   labels = \"en\" # Get English labels )  # Visualize the GDP trend as a static plot p <- gdp |>   ggplot(aes(x = as.integer(Year_en), y = value / 1e6, group = 1)) +   geom_area(fill = \"#42b883\", alpha = 0.6) +  # shaded area emphasizes cumulative growth   geom_line(color = \"#2c3e50\", linewidth = 1.2) +   geom_point(color = \"#2c3e50\", size = 3, shape = 21, fill = \"white\", stroke = 1.5) +   scale_y_continuous(labels = scales::label_number(suffix = \"T\")) +  # \"T\" suffix for trillions   scale_x_continuous(breaks = function(x) seq(ceiling(min(x)), floor(max(x)), by = 1)) +   labs(     title = \"Mongolia's GDP Growth (2010-2024)\",     subtitle = \"Gross Domestic Product (in Trillions MNT)\",     x = NULL,     y = \"GDP (Trillions MNT)\",     caption = \"Source: NSO Mongolia via mongolstats\"   ) +   theme_minimal(base_size = 12) +   theme(     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\"),     panel.grid.minor = element_blank(),     panel.grid.major.x = element_blank()  # vertical gridlines removed for cleaner look   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/index.html","id":"id_2-mapping-regional-population","dir":"","previous_headings":"Quick Start","what":"2. Mapping Regional Population","title":"mongolstats","text":"Discover population distributed across country.","code":"library(sf)  # 1. Fetch Population by Aimag # Get all region codes first regions <- nso_dim_values(\"DT_NSO_0300_002V1\", \"Region\")$code  pop <- nso_data(   tbl_id = \"DT_NSO_0300_002V1\",   selections = list(     \"Region\" = regions,     \"Year\" = \"2024\" # Use the year label   ),   labels = \"en\" # Get English labels for joining ) |>   filter(!Region %in% c(\"0\", \"1\", \"2\", \"3\", \"4\", \"511\")) |> # Exclude Total, Regions, and duplicate UB   mutate(     Region_en = trimws(Region_en),     Region_en = dplyr::case_match(       Region_en,       \"Bayan-Ulgii\" ~ \"Bayan-Ölgii\",       \"Uvurkhangai\" ~ \"Övörkhangai\",       \"Khuvsgul\" ~ \"Hovsgel\",       \"Umnugovi\" ~ \"Ömnögovi\",       \"Tuv\" ~ \"Töv\",       \"Sukhbaatar\" ~ \"Sükhbaatar\",       .default = Region_en     )   )  # 2. Get Administrative Boundaries map <- mn_boundaries(level = \"ADM1\")  # 3. Join and Map pop_map <- map |>   left_join(pop, by = c(\"shapeName\" = \"Region_en\"))  p <- ggplot(pop_map) +   geom_sf(aes(fill = value), color = \"white\", size = 0.2) +   # Log scale because population spans 3 orders of magnitude (20k to 1.5M)   scale_fill_viridis_c(     option = \"magma\",     direction = -1,     trans = \"log10\",     breaks = c(20000, 50000, 100000, 500000, 1500000),     labels = scales::label_number(scale_cut = scales::cut_short_scale()),     name = \"Population\\n(Log Scale)\"   ) +   labs(     title = \"Population Distribution (2024)\",     subtitle = \"Mid-year resident population by Aimag (Log Scale)\",     caption = \"Source: NSO Mongolia\"   ) +   theme_void() +   theme(     plot.title = element_text(face = \"bold\", size = 16),     plot.subtitle = element_text(color = \"grey40\"),     legend.position = \"bottom\",     legend.key.width = unit(1.5, \"cm\")   )  p  # print static ggplot"},{"path":"https://temuulene.github.io/mongolstats/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"mongolstats","text":"Full documentation available temuulene.github.io/mongolstats. Getting Started - first epidemiological analysis Discovery Guide - Find explore tables Mapping Guide - Work administrative boundaries","code":""},{"path":"https://temuulene.github.io/mongolstats/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"mongolstats","text":"welcome contributions! Please see Contributing Guidelines details.","code":""},{"path":"https://temuulene.github.io/mongolstats/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"mongolstats","text":"MIT","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/as_px_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a query to a PXWeb body — as_px_query","title":"Convert a query to a PXWeb body — as_px_query","text":"Convert query PXWeb body","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/as_px_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a query to a PXWeb body — as_px_query","text":"","code":"as_px_query(x, lang = .px_lang())"},{"path":"https://temuulene.github.io/mongolstats/reference/as_px_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a query to a PXWeb body — as_px_query","text":"x nso_query object. lang PX language: \"en\" \"mn\" (defaults current option).","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/as_px_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a query to a PXWeb body — as_px_query","text":"list suitable send JSON body PXWeb.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/as_px_query.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a query to a PXWeb body — as_px_query","text":"","code":"q <- nso_query(\"DT_NSO_0300_001V2\", list(Year = \"2023\")) body <- as_px_query(q)"},{"path":"https://temuulene.github.io/mongolstats/reference/dot-px_list.html","id":null,"dir":"Reference","previous_headings":"","what":"List PXWeb children under a path — .px_list","title":"List PXWeb children under a path — .px_list","text":"List PXWeb children path","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/dot-px_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List PXWeb children under a path — .px_list","text":"","code":".px_list(paths = character(), lang = .px_lang())"},{"path":"https://temuulene.github.io/mongolstats/reference/dot-px_meta.html","id":null,"dir":"Reference","previous_headings":"","what":"Get PXWeb table metadata — .px_meta","title":"Get PXWeb table metadata — .px_meta","text":"Get PXWeb table metadata","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/dot-px_meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get PXWeb table metadata — .px_meta","text":"","code":".px_meta(paths, table, lang = .px_lang())"},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries.html","id":null,"dir":"Reference","previous_headings":"","what":"Mongolia administrative boundaries (sf) — mn_boundaries","title":"Mongolia administrative boundaries (sf) — mn_boundaries","text":"Downloads Mongolia boundaries ADM0/ADM1/ADM2 GeoBoundaries API returns sf object. Results can cached caller needed.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mongolia administrative boundaries (sf) — mn_boundaries","text":"","code":"mn_boundaries(level = c(\"ADM0\", \"ADM1\", \"ADM2\"))"},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mongolia administrative boundaries (sf) — mn_boundaries","text":"level One \"ADM0\", \"ADM1\", \"ADM2\".","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mongolia administrative boundaries (sf) — mn_boundaries","text":"sf object polygons requested level.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mongolia administrative boundaries (sf) — mn_boundaries","text":"","code":"# Get aimag (province) boundaries aimags <- mn_boundaries(\"ADM1\") head(aimags) #> Simple feature collection with 6 features and 5 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 90.0023 ymin: 42.39561 xmax: 111.9678 ymax: 50.8851 #> Geodetic CRS:  WGS 84 #>     shapeName shapeISO                 shapeID shapeGroup shapeType #> 1         Uvs   MN-046 14279143B81467460095364        MNG      ADM1 #> 2       Khovd   MN-043 14279143B22317554045022        MNG      ADM1 #> 3     Zavkhan   MN-057 14279143B63368554420497        MNG      ADM1 #> 4      Bulgan   MN-067 14279143B49613281560709        MNG      ADM1 #> 5   Dornogovi   MN-063 14279143B47638406449643        MNG      ADM1 #> 6 Ulaanbaatar     MN-1 14279143B69842940795179        MNG      ADM1 #>                         geometry #> 1 MULTIPOLYGON (((95.50543 49... #> 2 MULTIPOLYGON (((91.33829 48... #> 3 MULTIPOLYGON (((93.4295 48.... #> 4 MULTIPOLYGON (((102.6428 50... #> 5 MULTIPOLYGON (((107.6873 44... #> 6 MULTIPOLYGON (((106.3564 48..."},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries_normalize.html","id":null,"dir":"Reference","previous_headings":"","what":"Add normalized name columns to boundaries — mn_boundaries_normalize","title":"Add normalized name columns to boundaries — mn_boundaries_normalize","text":"Add normalized name columns boundaries","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries_normalize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add normalized name columns to boundaries — mn_boundaries_normalize","text":"","code":"mn_boundaries_normalize(g, name_col = \"shapeName\")"},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries_normalize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add normalized name columns to boundaries — mn_boundaries_normalize","text":"g sf object mn_boundaries() name_col Column English names (default 'shapeName').","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries_normalize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add normalized name columns to boundaries — mn_boundaries_normalize","text":"sf name_std column added.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundaries_normalize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add normalized name columns to boundaries — mn_boundaries_normalize","text":"","code":"aimags <- mn_boundaries(\"ADM1\") aimags <- mn_boundaries_normalize(aimags) head(aimags$name_std) #> [1] \"uvs\"         \"khovd\"       \"zavkhan\"     \"bulgan\"      \"dornogovi\"   #> [6] \"ulaanbaatar\""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundary_keys.html","id":null,"dir":"Reference","previous_headings":"","what":"Boundary keys/crosswalk helper — mn_boundary_keys","title":"Boundary keys/crosswalk helper — mn_boundary_keys","text":"Boundary keys/crosswalk helper","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundary_keys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Boundary keys/crosswalk helper — mn_boundary_keys","text":"","code":"mn_boundary_keys(level = \"ADM1\")"},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundary_keys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Boundary keys/crosswalk helper — mn_boundary_keys","text":"level Boundary level.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundary_keys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Boundary keys/crosswalk helper — mn_boundary_keys","text":"tibble key columns GeoBoundaries normalized names.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_boundary_keys.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Boundary keys/crosswalk helper — mn_boundary_keys","text":"","code":"keys <- mn_boundary_keys(\"ADM1\") head(keys) #> # A tibble: 6 × 4 #>   shapeID                 shapeName   shapeISO name_std    #>   <chr>                   <chr>       <chr>    <chr>       #> 1 14279143B81467460095364 Uvs         MN-046   uvs         #> 2 14279143B22317554045022 Khovd       MN-043   khovd       #> 3 14279143B63368554420497 Zavkhan     MN-057   zavkhan     #> 4 14279143B49613281560709 Bulgan      MN-067   bulgan      #> 5 14279143B47638406449643 Dornogovi   MN-063   dornogovi   #> 6 14279143B69842940795179 Ulaanbaatar MN-1     ulaanbaatar"},{"path":"https://temuulene.github.io/mongolstats/reference/mn_fuzzy_join_by_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Fuzzy join data to boundaries by name — mn_fuzzy_join_by_name","title":"Fuzzy join data to boundaries by name — mn_fuzzy_join_by_name","text":"Fuzzy join data boundaries name","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_fuzzy_join_by_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fuzzy join data to boundaries by name — mn_fuzzy_join_by_name","text":"","code":"mn_fuzzy_join_by_name(   data,   name_col,   level = \"ADM1\",   boundaries = NULL,   max_distance = 2,   method = c(\"osa\", \"lv\", \"jw\", \"dl\") )"},{"path":"https://temuulene.github.io/mongolstats/reference/mn_fuzzy_join_by_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fuzzy join data to boundaries by name — mn_fuzzy_join_by_name","text":"data Data frame name column. name_col Column data containing names. level Boundary level. boundaries Optional pre-fetched boundaries. max_distance Maximum string distance match (default 2). method Distance method passed stringdist::stringdist.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_fuzzy_join_by_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fuzzy join data to boundaries by name — mn_fuzzy_join_by_name","text":"sf best fuzzy matches joined.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_fuzzy_join_by_name.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fuzzy join data to boundaries by name — mn_fuzzy_join_by_name","text":"","code":"# Join even with minor spelling differences pop_data <- data.frame(aimag = c(\"Ulanbatar\", \"Darhan\"), pop = c(1500000, 100000)) sf_joined <- mn_fuzzy_join_by_name(pop_data, \"aimag\", level = \"ADM1\")"},{"path":"https://temuulene.github.io/mongolstats/reference/mn_join_by_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Join data to boundaries by (normalized) names — mn_join_by_name","title":"Join data to boundaries by (normalized) names — mn_join_by_name","text":"Join data boundaries (normalized) names","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_join_by_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Join data to boundaries by (normalized) names — mn_join_by_name","text":"","code":"mn_join_by_name(data, name_col, level = \"ADM1\", boundaries = NULL)"},{"path":"https://temuulene.github.io/mongolstats/reference/mn_join_by_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Join data to boundaries by (normalized) names — mn_join_by_name","text":"data Data frame name column. name_col Column data contains names join . level Boundary level, passed mn_boundaries() boundaries provided. boundaries Optional pre-fetched boundaries.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_join_by_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Join data to boundaries by (normalized) names — mn_join_by_name","text":"sf joined data.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mn_join_by_name.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Join data to boundaries by (normalized) names — mn_join_by_name","text":"","code":"pop_data <- data.frame(aimag = c(\"Ulaanbaatar\", \"Darkhan-Uul\"), pop = c(1500000, 100000)) sf_joined <- mn_join_by_name(pop_data, \"aimag\", level = \"ADM1\")"},{"path":"https://temuulene.github.io/mongolstats/reference/mongolstats-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mongolstats: Mongolian NSO PXWeb Data and Boundaries — mongolstats-package","title":"mongolstats: Mongolian NSO PXWeb Data and Boundaries — mongolstats-package","text":"tidyverse-friendly client National Statistics Office Mongolia PXWeb API (data.1212.mn) helpers discover tables, variables, fetch statistical data. Also includes utilities retrieve Mongolia administrative boundaries (ADM0-ADM2) 'sf' objects open sources mapping spatial analysis.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/mongolstats-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"mongolstats: Mongolian NSO PXWeb Data and Boundaries — mongolstats-package","text":"nso_data Fetch statistical data table nso_itms, nso_tables List available tables nso_itms_search Search tables keyword mn_boundaries Get administrative boundaries","code":""},{"path":[]},{"path":"https://temuulene.github.io/mongolstats/reference/mongolstats-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mongolstats: Mongolian NSO PXWeb Data and Boundaries — mongolstats-package","text":"Maintainer: Temuulen Enebish temuulen@gmail.com","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_clear.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear cached entries — nso_cache_clear","title":"Clear cached entries — nso_cache_clear","text":"Clear cached entries","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_clear.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear cached entries — nso_cache_clear","text":"","code":"nso_cache_clear()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_clear.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear cached entries — nso_cache_clear","text":"return value, called side effects.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_clear.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear cached entries — nso_cache_clear","text":"","code":"nso_cache_clear()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_disable.html","id":null,"dir":"Reference","previous_headings":"","what":"Disable caching — nso_cache_disable","title":"Disable caching — nso_cache_disable","text":"Disable caching","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_disable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disable caching — nso_cache_disable","text":"","code":"nso_cache_disable()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_disable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disable caching — nso_cache_disable","text":"return value, called side effects.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_disable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disable caching — nso_cache_disable","text":"","code":"nso_cache_disable()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_enable.html","id":null,"dir":"Reference","previous_headings":"","what":"Enable or configure caching — nso_cache_enable","title":"Enable or configure caching — nso_cache_enable","text":"Caches table lists codebooks disk speed repeated calls. Optionally set time--live (TTL) cache entries.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_enable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enable or configure caching — nso_cache_enable","text":"","code":"nso_cache_enable(dir = NULL, ttl = NULL)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_enable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enable or configure caching — nso_cache_enable","text":"dir Directory cache; defaults user cache dir. ttl Optional TTL seconds cached entries (applies disk cache). NULL, entries persist cleared.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_enable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enable or configure caching — nso_cache_enable","text":"Cache directory path (invisibly).","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_enable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Enable or configure caching — nso_cache_enable","text":"","code":"# Enable caching in a temporary directory (for demo purposes) cache_dir <- nso_cache_enable(dir = tempdir())  # Check status nso_cache_status() #> $enabled #> [1] TRUE #>  #> $dir #> [1] \"/tmp/RtmpLf6OzM\" #>  #> $has_cache #> [1] TRUE #>   # Disable when done nso_cache_disable()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Cache status — nso_cache_status","title":"Cache status — nso_cache_status","text":"Report current cache configuration basic stats.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cache status — nso_cache_status","text":"","code":"nso_cache_status()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cache status — nso_cache_status","text":"list enabled, dir, has_cache.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cache status — nso_cache_status","text":"","code":"nso_cache_status() #> $enabled #> [1] FALSE #>  #> $dir #> [1] \"/tmp/RtmpLf6OzM\" #>  #> $has_cache #> [1] TRUE #>"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch statistical data for a table (PXWeb) — nso_data","title":"Fetch statistical data for a table (PXWeb) — nso_data","text":"Fetch statistical data table (PXWeb)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch statistical data for a table (PXWeb) — nso_data","text":"","code":"nso_data(   tbl_id,   selections,   labels = c(\"none\", \"en\", \"mn\", \"both\"),   value_name = getOption(\"mongolstats.value_name\", \"value\"),   include_raw = getOption(\"mongolstats.attach_raw\", FALSE) )"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch statistical data for a table (PXWeb) — nso_data","text":"tbl_id Table identifier (e.g., \"DT_NSO_0300_001V2\"). selections Named list mapping variable labels (e.g., Year, Sex) desired codes labels. labels Label handling: \"none\" (codes ), \"en\", \"mn\", \"\". value_name Name numeric value column result (default: \"value\"). include_raw TRUE, attach raw PX payload attribute px_raw.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch statistical data for a table (PXWeb) — nso_data","text":"tibble one column per dimension numeric value column.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch statistical data for a table (PXWeb) — nso_data","text":"","code":"# Fetch population data pop <- nso_data(   tbl_id = \"DT_NSO_0300_001V2\",   selections = list(Year = \"2023\") ) head(pop) #> # A tibble: 6 × 4 #>   Sex   Age   Year    value #>   <chr> <chr> <chr>   <dbl> #> 1 0     0     1     3396788 #> 2 0     1     1       65418 #> 3 0     2     1       65653 #> 4 0     3     1       71885 #> 5 0     4     1       76194 #> 6 0     5     1       78627"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dim_values.html","id":null,"dir":"Reference","previous_headings":"","what":"List values for a table dimension — nso_dim_values","title":"List values for a table dimension — nso_dim_values","text":"Returns codes optional labels specific dimension.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dim_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List values for a table dimension — nso_dim_values","text":"","code":"nso_dim_values(tbl_id, dim, labels = c(\"code\", \"en\", \"mn\", \"both\"))"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dim_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List values for a table dimension — nso_dim_values","text":"tbl_id Table identifier (e.g., \"DT_NSO_0300_001V2\"). dim Dimension name code (case-insensitive; exact match preferred). labels One \"code\", \"en\", \"mn\", \"\" control returned label columns.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dim_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List values for a table dimension — nso_dim_values","text":"tibble least code; may include label_en /label_mn.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dim_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List values for a table dimension — nso_dim_values","text":"","code":"values <- nso_dim_values(\"DT_NSO_0300_001V2\", \"Year\") head(values) #> # A tibble: 6 × 1 #>   code  #>   <chr> #> 1 0     #> 2 1     #> 3 2     #> 4 3     #> 5 4     #> 6 5"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dims.html","id":null,"dir":"Reference","previous_headings":"","what":"List dimensions for a PXWeb table — nso_dims","title":"List dimensions for a PXWeb table — nso_dims","text":"Returns one row per dimension basic metadata.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dims.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List dimensions for a PXWeb table — nso_dims","text":"","code":"nso_dims(tbl_id)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dims.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List dimensions for a PXWeb table — nso_dims","text":"tbl_id Table identifier (e.g., \"DT_NSO_0300_001V2\").","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dims.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List dimensions for a PXWeb table — nso_dims","text":"tibble columns: dim (display name), code (dimension code), is_time (logical), n_values (number values dimension).","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_dims.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List dimensions for a PXWeb table — nso_dims","text":"","code":"dims <- nso_dims(\"DT_NSO_0300_001V2\") dims #> # A tibble: 3 × 4 #>   dim   code  is_time n_values #>   <chr> <chr> <lgl>      <int> #> 1 Sex   Хүйс  FALSE          3 #> 2 Age   Нас   FALSE         88 #> 3 Year  Он    FALSE         25"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_fetch.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch a query and return a tibble — nso_fetch","title":"Fetch a query and return a tibble — nso_fetch","text":"Executes nso_query returns tidy tibble one column per dimension numeric value column. Use labels add _en/_mn columns dimension.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_fetch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch a query and return a tibble — nso_fetch","text":"","code":"nso_fetch(   x,   labels = c(\"code\", \"en\", \"mn\", \"both\"),   value_name = getOption(\"mongolstats.value_name\", \"value\"),   include_raw = getOption(\"mongolstats.attach_raw\", FALSE) )"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_fetch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch a query and return a tibble — nso_fetch","text":"x nso_query object. labels One \"code\", \"en\", \"mn\", \"\" (mapped internal API). value_name Name numeric value column result (default: \"value\"). include_raw TRUE, attach raw PX payload attribute px_raw.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_fetch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch a query and return a tibble — nso_fetch","text":"tibble.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_fetch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch a query and return a tibble — nso_fetch","text":"","code":"q <- nso_query(\"DT_NSO_0300_001V2\", list(Year = \"2023\")) data <- nso_fetch(q) head(data) #> # A tibble: 6 × 4 #>   Sex   Age   Year    value #>   <chr> <chr> <chr>   <dbl> #> 1 0     0     1     3396788 #> 2 0     1     1       65418 #> 3 0     2     1       65653 #> 4 0     3     1       71885 #> 5 0     4     1       76194 #> 6 0     5     1       78627"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms.html","id":null,"dir":"Reference","previous_headings":"","what":"List available NSO tables (PXWeb) — nso_itms","title":"List available NSO tables (PXWeb) — nso_itms","text":"Returns tibble available tables NSO PXWeb catalog.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List available NSO tables (PXWeb) — nso_itms","text":"","code":"nso_itms()  nso_tables()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List available NSO tables (PXWeb) — nso_itms","text":"tibble columns: px_path, px_file, tbl_id, tbl_eng_nm, tbl_nm, strt_prd, end_prd, list_id.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List available NSO tables (PXWeb) — nso_itms","text":"","code":"# List all available tables tables <- nso_itms() head(tables) #> # A tibble: 6 × 8 #>   px_path              px_file tbl_id tbl_eng_nm tbl_nm strt_prd end_prd list_id #>   <chr>                <chr>   <chr>  <chr>      <chr>  <chr>    <chr>   <chr>   #> 1 Economy, environmen… DT_NSO… DT_NS… BALANCE O… ТӨЛБӨ… NA       NA      Econom… #> 2 Economy, environmen… DT_NSO… DT_NS… WEEKLY PR… ХҮНСН… 2025-11… 2024-0… Econom… #> 3 Economy, environmen… DT_NSO… DT_NS… CONSUMER … АЙМГИ… 2015=100 2023=1… Econom… #> 4 Economy, environmen… DT_NSO… DT_NS… CONSUMER … АЙМГИ… 2015=100 2023=1… Econom… #> 5 Economy, environmen… DT_NSO… DT_NS… CONSUMER … АЙМГИ… 2015=100 2023=1… Econom… #> 6 Economy, environmen… DT_NSO… DT_NS… NATIONAL … ХЭРЭГ… 2015=100 2023=1… Econom…"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_by_sector.html","id":null,"dir":"Reference","previous_headings":"","what":"List tables under a sector or sub-sector (PXWeb path) — nso_itms_by_sector","title":"List tables under a sector or sub-sector (PXWeb path) — nso_itms_by_sector","text":"List tables sector sub-sector (PXWeb path)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_by_sector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List tables under a sector or sub-sector (PXWeb path) — nso_itms_by_sector","text":"","code":"nso_itms_by_sector(list_id)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_by_sector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List tables under a sector or sub-sector (PXWeb path) — nso_itms_by_sector","text":"list_id Path string nso_sectors()/nso_subsectors() id.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_by_sector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List tables under a sector or sub-sector (PXWeb path) — nso_itms_by_sector","text":"tibble tables matching specified sector path.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_by_sector.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List tables under a sector or sub-sector (PXWeb path) — nso_itms_by_sector","text":"","code":"sectors <- nso_sectors() tables <- nso_itms_by_sector(sectors$id[1])"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_detail.html","id":null,"dir":"Reference","previous_headings":"","what":"Get variable codes for a table (PXWeb) — nso_itms_detail","title":"Get variable codes for a table (PXWeb) — nso_itms_detail","text":"Get variable codes table (PXWeb)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_detail.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get variable codes for a table (PXWeb) — nso_itms_detail","text":"","code":"nso_itms_detail(tbl_id)  nso_variables(tbl_id)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_detail.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get variable codes for a table (PXWeb) — nso_itms_detail","text":"tbl_id Table identifier (e.g., \"DT_NSO_0300_001V2\").","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_detail.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get variable codes for a table (PXWeb) — nso_itms_detail","text":"tibble variable metadata.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_detail.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get variable codes for a table (PXWeb) — nso_itms_detail","text":"","code":"vars <- nso_itms_detail(\"DT_NSO_0300_001V2\") vars #> # A tibble: 116 × 6 #>    field itm_id scr_eng scr_mn px_path                                   px_file #>    <chr> <chr>  <chr>   <chr>  <chr>                                     <chr>   #>  1 Sex   0      Total   NA     Population, household/1_Population, hous… DT_NSO… #>  2 Sex   1      Male    NA     Population, household/1_Population, hous… DT_NSO… #>  3 Sex   2      Female  NA     Population, household/1_Population, hous… DT_NSO… #>  4 Age   0      Total   NA     Population, household/1_Population, hous… DT_NSO… #>  5 Age   1      0       NA     Population, household/1_Population, hous… DT_NSO… #>  6 Age   2      1       NA     Population, household/1_Population, hous… DT_NSO… #>  7 Age   3      2       NA     Population, household/1_Population, hous… DT_NSO… #>  8 Age   4      3       NA     Population, household/1_Population, hous… DT_NSO… #>  9 Age   5      4       NA     Population, household/1_Population, hous… DT_NSO… #> 10 Age   6      5       NA     Population, household/1_Population, hous… DT_NSO… #> # ℹ 106 more rows"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_search.html","id":null,"dir":"Reference","previous_headings":"","what":"Search tables by keyword (PXWeb) — nso_itms_search","title":"Search tables by keyword (PXWeb) — nso_itms_search","text":"Search tables keyword (PXWeb)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_search.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search tables by keyword (PXWeb) — nso_itms_search","text":"","code":"nso_itms_search(query, fields = c(\"tbl_eng_nm\", \"tbl_nm\"))"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_search.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search tables by keyword (PXWeb) — nso_itms_search","text":"query single keyword string search (case-insensitive). fields Character vector column names search within (defaults English Mongolian titles).","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_search.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search tables by keyword (PXWeb) — nso_itms_search","text":"tibble matching tables.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_itms_search.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search tables by keyword (PXWeb) — nso_itms_search","text":"","code":"# Search for population tables nso_itms_search(\"population\") #> # A tibble: 60 × 8 #>    px_path             px_file tbl_id tbl_eng_nm tbl_nm strt_prd end_prd list_id #>    <chr>               <chr>   <chr>  <chr>      <chr>  <chr>    <chr>   <chr>   #>  1 Education, health/… DT_NSO… DT_NS… NEW CASES… ХОРТ … 2024     2000    Educat… #>  2 Education, health/… DT_NSO… DT_NS… DEATHS OF… ХОРТ … 2024     1990    Educat… #>  3 Education, health/… DT_NSO… DT_NS… NEW CASES… ХОРТ … 2024     2010    Educat… #>  4 Education, health/… DT_NSO… DT_NS… INPATIENT… ЭМНЭЛ… 2024     2017    Educat… #>  5 Historical data/Nu… DT_NSO… DT_NS… NUMBER OF… ХӨДӨЛ… 1992     1965    Histor… #>  6 Historical data/Po… DT_NSO… DT_NS… POPULATIO… НИЙТ … 1992     1900    Histor… #>  7 Historical data/Po… DT_NSO… DT_NS… NATURAL I… 1000 … 1992     1935    Histor… #>  8 Historical data/Po… DT_NSO… DT_NS… SOCIAL ST… ХҮН А… 1992     1925    Histor… #>  9 Historical data/Po… DT_NSO… DT_NS… MARRIAGES… 1000 … 1992     1970    Histor… #> 10 Historical data/Po… DT_NSO… DT_NS… DIVORCES … 1000 … 1992     1970    Histor… #> # ℹ 50 more rows"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_offline_disable.html","id":null,"dir":"Reference","previous_headings":"","what":"Disable offline mode — nso_offline_disable","title":"Disable offline mode — nso_offline_disable","text":"Disable offline mode","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_offline_disable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disable offline mode — nso_offline_disable","text":"","code":"nso_offline_disable()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_offline_disable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disable offline mode — nso_offline_disable","text":"Invisibly, TRUE.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_offline_disable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disable offline mode — nso_offline_disable","text":"","code":"nso_offline_disable()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_offline_enable.html","id":null,"dir":"Reference","previous_headings":"","what":"Enable offline mode — nso_offline_enable","title":"Enable offline mode — nso_offline_enable","text":"enabled, HTTP requests prevented functions require network raise clear offline error. Cached metadata can still used already available via nso_cache_enable().","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_offline_enable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enable offline mode — nso_offline_enable","text":"","code":"nso_offline_enable()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_offline_enable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Enable offline mode — nso_offline_enable","text":"Invisibly, TRUE.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_offline_enable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Enable offline mode — nso_offline_enable","text":"","code":"# Enable offline mode nso_offline_enable()  # Check the option was set getOption(\"mongolstats.offline\") #> [1] TRUE  # Disable to restore normal operation nso_offline_disable()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Set or get mongolstats options — nso_options","title":"Set or get mongolstats options — nso_options","text":"Convenience wrapper around base::options() mongolstats.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set or get mongolstats options — nso_options","text":"","code":"nso_options(...)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set or get mongolstats options — nso_options","text":"... Named options set. empty, returns named list current mongolstats options.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_options.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set or get mongolstats options — nso_options","text":"Invisibly, previous values options changed, list current values called arguments.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_options.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set or get mongolstats options — nso_options","text":"","code":"# Get all current mongolstats options nso_options()  # Set an option (save old value for restoration) old <- nso_options(mongolstats.default_labels = \"en\")  # Restore original value options(old)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_package.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch multiple tables and bind (PXWeb) — nso_package","title":"Fetch multiple tables and bind (PXWeb) — nso_package","text":"Fetch multiple tables bind (PXWeb)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_package.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch multiple tables and bind (PXWeb) — nso_package","text":"","code":"nso_package(   requests,   labels = c(\"none\", \"en\", \"mn\", \"both\"),   parallel = getOption(\"mongolstats.parallel\", FALSE),   value_name = getOption(\"mongolstats.value_name\", \"value\") )"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_package.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch multiple tables and bind (PXWeb) — nso_package","text":"requests list records, tbl_id selections (named list) labels Label handling nso_data() parallel TRUE, use future.apply fetch tables parallel. value_name Name numeric value column result (default: \"value\").","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_package.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch multiple tables and bind (PXWeb) — nso_package","text":"tibble combining data requested tables, tbl_id column identifying source table.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_package.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch multiple tables and bind (PXWeb) — nso_package","text":"","code":"reqs <- list(   list(tbl_id = \"DT_NSO_0300_001V2\", selections = list(Year = \"2023\")) ) combined <- nso_package(reqs)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_period_seq.html","id":null,"dir":"Reference","previous_headings":"","what":"Create period codes — nso_period_seq","title":"Create period codes — nso_period_seq","text":"Utilities construct NSO period codes sequences. monthly data, use YYYYMM; yearly, use YYYY.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_period_seq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create period codes — nso_period_seq","text":"","code":"nso_period_seq(start, end, by = c(\"Y\", \"M\"))"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_period_seq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create period codes — nso_period_seq","text":"start, end Start end periods character (YYYY YYYYMM). 'Y' yearly 'M' monthly.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_period_seq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create period codes — nso_period_seq","text":"Character vector period codes.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_period_seq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create period codes — nso_period_seq","text":"","code":"# Generate yearly sequence nso_period_seq(\"2020\", \"2024\", by = \"Y\") #> [1] \"2020\" \"2021\" \"2022\" \"2023\" \"2024\"  # Generate monthly sequence nso_period_seq(\"202401\", \"202406\", by = \"M\") #> [1] \"202401\" \"202402\" \"202403\" \"202404\" \"202405\" \"202406\""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a PXWeb query object — nso_query","title":"Create a PXWeb query object — nso_query","text":"Builds lightweight query object records table id selections. Use nso_fetch() execute , as_px_query() inspect underlying PXWeb body.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a PXWeb query object — nso_query","text":"","code":"nso_query(tbl_id, selections = list())"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a PXWeb query object — nso_query","text":"tbl_id Table identifier, e.g. \"DT_NSO_0300_001V2\". selections Named list mapping dimension labels (e.g., Year, Sex) desired codes labels.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a PXWeb query object — nso_query","text":"object class nso_query.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_query.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a PXWeb query object — nso_query","text":"","code":"# Create a query object (does not require network) q <- nso_query(\"DT_NSO_0300_001V2\", list(Year = \"2023\", Sex = \"Total\")) print(q) #> <nso_query> #>   tbl_id    : DT_NSO_0300_001V2 #>   selections: 2 dimensions #>     - Year: 2023 #>     - Sex: Total"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_rebuild_px_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Rebuild PXWeb index and optionally write to a file — nso_rebuild_px_index","title":"Rebuild PXWeb index and optionally write to a file — nso_rebuild_px_index","text":"Crawls PXWeb API rebuild table index. path provided, index written file; otherwise -memory index refreshed.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_rebuild_px_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rebuild PXWeb index and optionally write to a file — nso_rebuild_px_index","text":"","code":"nso_rebuild_px_index(path = NULL, write = !is.null(path))"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_rebuild_px_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rebuild PXWeb index and optionally write to a file — nso_rebuild_px_index","text":"path Output path JSON. NULL (default), file written. package development, use \"inst/extdata/px_index.json\". write Whether write JSON path. Defaults TRUE path provided, FALSE otherwise.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_rebuild_px_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rebuild PXWeb index and optionally write to a file — nso_rebuild_px_index","text":"tibble containing rebuilt table index.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_rebuild_px_index.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rebuild PXWeb index and optionally write to a file — nso_rebuild_px_index","text":"","code":"# Rebuild in-memory index only (takes time to crawl API) # \\donttest{ idx <- nso_rebuild_px_index() head(idx) #> # A tibble: 6 × 7 #>   px_path                      px_file tbl_id tbl_eng_nm tbl_nm strt_prd end_prd #>   <chr>                        <chr>   <chr>  <chr>      <chr>  <chr>    <chr>   #> 1 Economy, environment/Balanc… DT_NSO… DT_NS… BALANCE O… ТӨЛБӨ… NA       NA      #> 2 Economy, environment/Consum… DT_NSO… DT_NS… WEEKLY PR… ХҮНСН… 2026-01… 2024-0… #> 3 Economy, environment/Consum… DT_NSO… DT_NS… CONSUMER … АЙМГИ… 2015=100 2023=1… #> 4 Economy, environment/Consum… DT_NSO… DT_NS… CONSUMER … АЙМГИ… 2015=100 2023=1… #> 5 Economy, environment/Consum… DT_NSO… DT_NS… CONSUMER … АЙМГИ… 2015=100 2023=1… #> 6 Economy, environment/Consum… DT_NSO… DT_NS… NATIONAL … ХЭРЭГ… 2015=100 2023=1… # }"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_search.html","id":null,"dir":"Reference","previous_headings":"","what":"Search NSO tables — nso_search","title":"Search NSO tables — nso_search","text":"Search NSO tables","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_search.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search NSO tables — nso_search","text":"","code":"nso_search(query, sector = NULL, fields = c(\"tbl_eng_nm\", \"tbl_nm\"))"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_search.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search NSO tables — nso_search","text":"query Search string (regex, case-insensitive). sector Optional sector/subsector list_id filter results. fields Character vector fields search within.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_search.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search NSO tables — nso_search","text":"Tibble matching tables.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_search.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search NSO tables — nso_search","text":"","code":"nso_search(\"population\") #> # A tibble: 59 × 8 #>    px_path             px_file tbl_id tbl_eng_nm tbl_nm strt_prd end_prd list_id #>    <chr>               <chr>   <chr>  <chr>      <chr>  <chr>    <chr>   <chr>   #>  1 Education, health/… DT_NSO… DT_NS… NEW CASES… ХОРТ … 2024     2000    Educat… #>  2 Education, health/… DT_NSO… DT_NS… NEW CASES… ХОРТ … 2024     2010    Educat… #>  3 Education, health/… DT_NSO… DT_NS… INPATIENT… ЭМНЭЛ… 2024     2017    Educat… #>  4 Historical data/Nu… DT_NSO… DT_NS… NUMBER OF… ХӨДӨЛ… 1992     1965    Histor… #>  5 Historical data/Po… DT_NSO… DT_NS… POPULATIO… НИЙТ … 1992     1900    Histor… #>  6 Historical data/Po… DT_NSO… DT_NS… NATURAL I… 1000 … 1992     1935    Histor… #>  7 Historical data/Po… DT_NSO… DT_NS… SOCIAL ST… ХҮН А… 1992     1925    Histor… #>  8 Historical data/Po… DT_NSO… DT_NS… MARRIAGES… 1000 … 1992     1970    Histor… #>  9 Historical data/Po… DT_NSO… DT_NS… DIVORCES … 1000 … 1992     1970    Histor… #> 10 Historical data/Po… DT_NSO… DT_NS… POPULATIO… ХҮН А… 1992     1950    Histor… #> # ℹ 49 more rows"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_sectors.html","id":null,"dir":"Reference","previous_headings":"","what":"List top-level categories (PXWeb NSO root) — nso_sectors","title":"List top-level categories (PXWeb NSO root) — nso_sectors","text":"List top-level categories (PXWeb NSO root)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_sectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List top-level categories (PXWeb NSO root) — nso_sectors","text":"","code":"nso_sectors()"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_sectors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List top-level categories (PXWeb NSO root) — nso_sectors","text":"tibble id, type, text","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_sectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List top-level categories (PXWeb NSO root) — nso_sectors","text":"","code":"sectors <- nso_sectors() head(sectors) #> # A tibble: 6 × 3 #>   id                    type  text                  #>   <chr>                 <chr> <chr>                 #> 1 Economy, environment  l     Economy, environment  #> 2 Education, health     l     Education, health     #> 3 Historical data       l     Historical data       #> 4 Industry, service     l     Industry, service     #> 5 Labour, business      l     Labour, business      #> 6 Population, household l     Population, household"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_subsectors.html","id":null,"dir":"Reference","previous_headings":"","what":"List children for a given path (PXWeb) — nso_subsectors","title":"List children for a given path (PXWeb) — nso_subsectors","text":"List children given path (PXWeb)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_subsectors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List children for a given path (PXWeb) — nso_subsectors","text":"","code":"nso_subsectors(subid)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_subsectors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List children for a given path (PXWeb) — nso_subsectors","text":"subid Path id nso_sectors()/nso_subsectors() (e.g., 'Population, household' 'Population, household/1_Population, household')","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_subsectors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List children for a given path (PXWeb) — nso_subsectors","text":"tibble columns: id, type, text.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_subsectors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List children for a given path (PXWeb) — nso_subsectors","text":"","code":"sectors <- nso_sectors() nso_subsectors(sectors$id[1]) #> # A tibble: 12 × 3 #>    id                             type  text                           #>    <chr>                          <chr> <chr>                          #>  1 Balance of Payments            l     Balance of Payments            #>  2 Consumer Price Index           l     Consumer Price Index           #>  3 Environment                    l     Environment                    #>  4 Environmental-Economic Account l     Environmental-Economic Account #>  5 Foreign Trade                  l     Foreign Trade                  #>  6 Government budget              l     Government budget              #>  7 Housing price index            l     Housing price index            #>  8 Investment                     l     Investment                     #>  9 Money and Finance              l     Money and Finance              #> 10 National Accounts              l     National Accounts              #> 11 Producer price index           l     Producer price index           #> 12 Productivity                   l     Productivity"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_meta.html","id":null,"dir":"Reference","previous_headings":"","what":"Table metadata as per-dimension codebooks — nso_table_meta","title":"Table metadata as per-dimension codebooks — nso_table_meta","text":"Returns tibble one row per dimension codes list-column, element tibble codes labels (code, label_en, label_mn). Useful manual query assembly inspecting available categories per dimension.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_meta.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Table metadata as per-dimension codebooks — nso_table_meta","text":"","code":"nso_table_meta(tbl_id)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_meta.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Table metadata as per-dimension codebooks — nso_table_meta","text":"tbl_id Table identifier (e.g., \"DT_NSO_0300_001V2\").","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_meta.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Table metadata as per-dimension codebooks — nso_table_meta","text":"tibble columns: dim (display name), code (dimension code), is_time (logical), n_values (integer), codes (list tibbles).","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_meta.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Table metadata as per-dimension codebooks — nso_table_meta","text":"","code":"meta <- nso_table_meta(\"DT_NSO_0300_001V2\") meta #> # A tibble: 3 × 5 #>   dim   code  is_time n_values codes             #>   <chr> <chr> <lgl>      <int> <list>            #> 1 Sex   Хүйс  FALSE          3 <tibble [3 × 3]>  #> 2 Age   Нас   FALSE         88 <tibble [88 × 3]> #> 3 Year  Он    FALSE         25 <tibble [25 × 3]>"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_periods.html","id":null,"dir":"Reference","previous_headings":"","what":"Get valid periods for a table (PXWeb) — nso_table_periods","title":"Get valid periods for a table (PXWeb) — nso_table_periods","text":"Get valid periods table (PXWeb)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get valid periods for a table (PXWeb) — nso_table_periods","text":"","code":"nso_table_periods(tbl_id)"},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_periods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get valid periods for a table (PXWeb) — nso_table_periods","text":"tbl_id Table identifier.","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_periods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get valid periods for a table (PXWeb) — nso_table_periods","text":"Character vector period labels (e.g., years)","code":""},{"path":"https://temuulene.github.io/mongolstats/reference/nso_table_periods.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get valid periods for a table (PXWeb) — nso_table_periods","text":"","code":"periods <- nso_table_periods(\"DT_NSO_0300_001V2\") head(periods) #> [1] \"2024\" \"2023\" \"2022\" \"2021\" \"2020\" \"2019\""},{"path":"https://temuulene.github.io/mongolstats/news/index.html","id":"mongolstats-011","dir":"Changelog","previous_headings":"","what":"mongolstats 0.1.1","title":"mongolstats 0.1.1","text":"Patch release fix CRAN check failures vignette rebuilding.","code":""},{"path":"https://temuulene.github.io/mongolstats/news/index.html","id":"bug-fixes-0-1-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"mongolstats 0.1.1","text":"Vignette CRAN Compliance: Added NOT_CRAN guards vignettes prevent code evaluation CRAN checks. fixes HTTP 400 errors data-dependent failures vignettes rebuilt CRAN infrastructure external API calls may fail.","code":""},{"path":"https://temuulene.github.io/mongolstats/news/index.html","id":"mongolstats-010","dir":"Changelog","previous_headings":"","what":"mongolstats 0.1.0","title":"mongolstats 0.1.0","text":"CRAN release: 2026-01-18 First minor release containing significant data updates, visualization improvements, refined documentation.","code":""},{"path":"https://temuulene.github.io/mongolstats/news/index.html","id":"data--features-0-1-0","dir":"Changelog","previous_headings":"","what":"Data & Features","title":"mongolstats 0.1.0","text":"Monthly Mortality Data: Switched infant mortality analysis use monthly data (DT_NSO_2100_015V1) 2019-2024, enabling granular trend analysis --date regional comparisons. UB Air Quality: Added accurate coordinates Ulaanbaatar air quality monitoring stations mapped districts. Boundaries: Fixed spatial mismatches administrative boundary names ensure seamless joins NSO data.","code":""},{"path":"https://temuulene.github.io/mongolstats/news/index.html","id":"visualization--ui-0-1-0","dir":"Changelog","previous_headings":"","what":"Visualization & UI","title":"mongolstats 0.1.0","text":"Interactive tooltips formatted units rounded numbers. Trend lines confidence intervals mortality rates. Log-scaled population maps better contrast. Clean integer breaks axes. Standardized Aesthetics: Consistent plot styling across vignettes.","code":""},{"path":"https://temuulene.github.io/mongolstats/news/index.html","id":"documentation-0-1-0","dir":"Changelog","previous_headings":"","what":"Documentation","title":"mongolstats 0.1.0","text":"mortality-analysis: -depth analysis infant mortality trends seasonality. environmental-surveillance: Detailed examination air water quality monitoring coverage. getting-started: Renamed streamlined new users. discovery & mapping: Updated new datasets visualization techniques. Examples: Added executable examples key functions (nso_data(), nso_itms(), mn_boundaries()).","code":""},{"path":"https://temuulene.github.io/mongolstats/news/index.html","id":"internal-0-1-0","dir":"Changelog","previous_headings":"","what":"Internal","title":"mongolstats 0.1.0","text":"Cleanup: Removed legacy labels.R unused artifacts. Infrastructure: Fully migrated NAMESPACE management roxygen2 fixed GitHub Actions workflows.","code":""},{"path":"https://temuulene.github.io/mongolstats/news/index.html","id":"mongolstats-0009000","dir":"Changelog","previous_headings":"","what":"mongolstats 0.0.0.9000","title":"mongolstats 0.0.0.9000","text":"Initial development snapshot. NSO API wrappers: nso_itms(), nso_itms_detail(), nso_data(), nso_package() Sector helpers: nso_sectors(), nso_subsectors(), nso_search() Boundaries: mn_boundaries(), join helpers incl. fuzzy joins Caching discovery endpoints Vignettes getting started, mapping, fuzzy joins, code-based joins","code":""}]
